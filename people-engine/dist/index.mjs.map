{"version":3,"file":"index.mjs","sources":["../node_modules/urlsafe-base64/lib/urlsafe-base64.js","../node_modules/urlsafe-base64/index.js","../node_modules/safer-buffer/safer.js","../node_modules/bn.js/lib/bn.js","../node_modules/inherits/inherits_browser.js","../node_modules/asn1.js/lib/asn1/base/reporter.js","../node_modules/asn1.js/lib/asn1/base/buffer.js","../node_modules/minimalistic-assert/index.js","../node_modules/asn1.js/lib/asn1/base/node.js","../node_modules/asn1.js/lib/asn1/constants/der.js","../node_modules/asn1.js/lib/asn1/encoders/der.js","../node_modules/asn1.js/lib/asn1/encoders/pem.js","../node_modules/asn1.js/lib/asn1/encoders/index.js","../node_modules/asn1.js/lib/asn1/decoders/der.js","../node_modules/asn1.js/lib/asn1/decoders/pem.js","../node_modules/asn1.js/lib/asn1/decoders/index.js","../node_modules/asn1.js/lib/asn1/api.js","../node_modules/asn1.js/lib/asn1/base/index.js","../node_modules/asn1.js/lib/asn1/constants/index.js","../node_modules/asn1.js/lib/asn1.js","../node_modules/safe-buffer/index.js","../node_modules/jws/lib/data-stream.js","../node_modules/buffer-equal-constant-time/index.js","../node_modules/ecdsa-sig-formatter/src/param-bytes-for-alg.js","../node_modules/ecdsa-sig-formatter/src/ecdsa-sig-formatter.js","../node_modules/jwa/index.js","../node_modules/jws/lib/tostring.js","../node_modules/jws/lib/sign-stream.js","../node_modules/jws/lib/verify-stream.js","../node_modules/jws/index.js","../node_modules/web-push/src/web-push-constants.js","../node_modules/web-push/src/vapid-helper.js","../node_modules/http_ece/ece.js","../node_modules/web-push/src/encryption-helper.js","../node_modules/web-push/src/web-push-error.js","../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../node_modules/agent-base/dist/src/promisify.js","../node_modules/agent-base/dist/src/index.js","../node_modules/https-proxy-agent/dist/parse-proxy-response.js","../node_modules/https-proxy-agent/dist/agent.js","../node_modules/https-proxy-agent/dist/index.js","../node_modules/web-push/src/web-push-lib.js","../node_modules/web-push/src/index.js","../src/index.mjs"],"sourcesContent":["/*!\n * urlsafe-base64\n */\n\n/**\n * Module Dependencies\n */\n\n// None yet!\n\n/**\n * Library version.\n */\n\nexports.version = '1.0.0';\n\n/**\n * .encode\n *\n * return an encoded Buffer as URL Safe Base64\n *\n * Note: This function encodes to the RFC 4648 Spec where '+' is encoded\n *       as '-' and '/' is encoded as '_'. The padding character '=' is\n *       removed.\n *\n * @param {Buffer} buffer\n * @return {String}\n * @api public\n */\n\nexports.encode = function encode(buffer) {\n\n  return buffer.toString('base64')\n    .replace(/\\+/g, '-') // Convert '+' to '-'\n    .replace(/\\//g, '_') // Convert '/' to '_'\n    .replace(/=+$/, ''); // Remove ending '='\n\n};\n\n/**\n * .decode\n *\n * return an decoded URL Safe Base64 as Buffer\n *\n * @param {String}\n * @return {Buffer}\n * @api public\n */\n\nexports.decode = function decode(base64) {\n\n  // Add removed at end '='\n  base64 += Array(5 - base64.length % 4).join('=');\n\n  base64 = base64\n    .replace(/\\-/g, '+') // Convert '-' to '+'\n    .replace(/\\_/g, '/'); // Convert '_' to '/'\n\n  return new Buffer(base64, 'base64');\n\n};\n\n/**\n * .validate\n *\n * Validates a string if it is URL Safe Base64 encoded.\n *\n * @param {String}\n * @return {Boolean}\n * @api public\n */\n\nexports.validate = function validate(base64) {\n\n  return /^[A-Za-z0-9\\-_]+$/.test(base64);\n\n};","\nmodule.exports = require('./lib/urlsafe-base64');","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [ number & 0x3ffffff ];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [ 0 ];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this.strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // 'A' - 'F'\n    if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    // '0' - '9'\n    } else {\n      return (c - 48) & 0xf;\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this.strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        r += c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        r += c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r += c;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [ 0 ];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this.strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype.strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  BN.prototype.inspect = function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  };\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16);\n  };\n\n  BN.prototype.toBuffer = function toBuffer (endian, length) {\n    assert(typeof Buffer !== 'undefined');\n    return this.toArrayLike(Buffer, endian, length);\n  };\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    this.strip();\n    var littleEndian = endian === 'le';\n    var res = new ArrayType(reqLength);\n\n    var b, i;\n    var q = this.clone();\n    if (!littleEndian) {\n      // Assume big-endian\n      for (i = 0; i < reqLength - byteLength; i++) {\n        res[i] = 0;\n      }\n\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[reqLength - i - 1] = b;\n      }\n    } else {\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[i] = b;\n      }\n\n      for (; i < reqLength; i++) {\n        res[i] = 0;\n      }\n    }\n\n    return res;\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this.strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this.strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this.strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    var fftm = new FFTM();\n    return fftm.mulp(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out.strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this.strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) < num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this.strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this.strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q.strip();\n    }\n    a.strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modn = function modn (num) {\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return acc;\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this.strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is BN v4 instance\n        r.strip();\n      } else {\n        // r is BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n    return a.umod(this.m)._forceRed(this);\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nconst inherits = require('inherits');\n\nfunction Reporter(options) {\n  this._reporterState = {\n    obj: null,\n    path: [],\n    options: options || {},\n    errors: []\n  };\n}\nexports.Reporter = Reporter;\n\nReporter.prototype.isError = function isError(obj) {\n  return obj instanceof ReporterError;\n};\n\nReporter.prototype.save = function save() {\n  const state = this._reporterState;\n\n  return { obj: state.obj, pathLen: state.path.length };\n};\n\nReporter.prototype.restore = function restore(data) {\n  const state = this._reporterState;\n\n  state.obj = data.obj;\n  state.path = state.path.slice(0, data.pathLen);\n};\n\nReporter.prototype.enterKey = function enterKey(key) {\n  return this._reporterState.path.push(key);\n};\n\nReporter.prototype.exitKey = function exitKey(index) {\n  const state = this._reporterState;\n\n  state.path = state.path.slice(0, index - 1);\n};\n\nReporter.prototype.leaveKey = function leaveKey(index, key, value) {\n  const state = this._reporterState;\n\n  this.exitKey(index);\n  if (state.obj !== null)\n    state.obj[key] = value;\n};\n\nReporter.prototype.path = function path() {\n  return this._reporterState.path.join('/');\n};\n\nReporter.prototype.enterObject = function enterObject() {\n  const state = this._reporterState;\n\n  const prev = state.obj;\n  state.obj = {};\n  return prev;\n};\n\nReporter.prototype.leaveObject = function leaveObject(prev) {\n  const state = this._reporterState;\n\n  const now = state.obj;\n  state.obj = prev;\n  return now;\n};\n\nReporter.prototype.error = function error(msg) {\n  let err;\n  const state = this._reporterState;\n\n  const inherited = msg instanceof ReporterError;\n  if (inherited) {\n    err = msg;\n  } else {\n    err = new ReporterError(state.path.map(function(elem) {\n      return '[' + JSON.stringify(elem) + ']';\n    }).join(''), msg.message || msg, msg.stack);\n  }\n\n  if (!state.options.partial)\n    throw err;\n\n  if (!inherited)\n    state.errors.push(err);\n\n  return err;\n};\n\nReporter.prototype.wrapResult = function wrapResult(result) {\n  const state = this._reporterState;\n  if (!state.options.partial)\n    return result;\n\n  return {\n    result: this.isError(result) ? null : result,\n    errors: state.errors\n  };\n};\n\nfunction ReporterError(path, msg) {\n  this.path = path;\n  this.rethrow(msg);\n}\ninherits(ReporterError, Error);\n\nReporterError.prototype.rethrow = function rethrow(msg) {\n  this.message = msg + ' at: ' + (this.path || '(shallow)');\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, ReporterError);\n\n  if (!this.stack) {\n    try {\n      // IE only adds stack when thrown\n      throw new Error(this.message);\n    } catch (e) {\n      this.stack = e.stack;\n    }\n  }\n  return this;\n};\n","'use strict';\n\nconst inherits = require('inherits');\nconst Reporter = require('../base/reporter').Reporter;\nconst Buffer = require('safer-buffer').Buffer;\n\nfunction DecoderBuffer(base, options) {\n  Reporter.call(this, options);\n  if (!Buffer.isBuffer(base)) {\n    this.error('Input not Buffer');\n    return;\n  }\n\n  this.base = base;\n  this.offset = 0;\n  this.length = base.length;\n}\ninherits(DecoderBuffer, Reporter);\nexports.DecoderBuffer = DecoderBuffer;\n\nDecoderBuffer.isDecoderBuffer = function isDecoderBuffer(data) {\n  if (data instanceof DecoderBuffer) {\n    return true;\n  }\n\n  // Or accept compatible API\n  const isCompatible = typeof data === 'object' &&\n    Buffer.isBuffer(data.base) &&\n    data.constructor.name === 'DecoderBuffer' &&\n    typeof data.offset === 'number' &&\n    typeof data.length === 'number' &&\n    typeof data.save === 'function' &&\n    typeof data.restore === 'function' &&\n    typeof data.isEmpty === 'function' &&\n    typeof data.readUInt8 === 'function' &&\n    typeof data.skip === 'function' &&\n    typeof data.raw === 'function';\n\n  return isCompatible;\n};\n\nDecoderBuffer.prototype.save = function save() {\n  return { offset: this.offset, reporter: Reporter.prototype.save.call(this) };\n};\n\nDecoderBuffer.prototype.restore = function restore(save) {\n  // Return skipped data\n  const res = new DecoderBuffer(this.base);\n  res.offset = save.offset;\n  res.length = this.offset;\n\n  this.offset = save.offset;\n  Reporter.prototype.restore.call(this, save.reporter);\n\n  return res;\n};\n\nDecoderBuffer.prototype.isEmpty = function isEmpty() {\n  return this.offset === this.length;\n};\n\nDecoderBuffer.prototype.readUInt8 = function readUInt8(fail) {\n  if (this.offset + 1 <= this.length)\n    return this.base.readUInt8(this.offset++, true);\n  else\n    return this.error(fail || 'DecoderBuffer overrun');\n};\n\nDecoderBuffer.prototype.skip = function skip(bytes, fail) {\n  if (!(this.offset + bytes <= this.length))\n    return this.error(fail || 'DecoderBuffer overrun');\n\n  const res = new DecoderBuffer(this.base);\n\n  // Share reporter state\n  res._reporterState = this._reporterState;\n\n  res.offset = this.offset;\n  res.length = this.offset + bytes;\n  this.offset += bytes;\n  return res;\n};\n\nDecoderBuffer.prototype.raw = function raw(save) {\n  return this.base.slice(save ? save.offset : this.offset, this.length);\n};\n\nfunction EncoderBuffer(value, reporter) {\n  if (Array.isArray(value)) {\n    this.length = 0;\n    this.value = value.map(function(item) {\n      if (!EncoderBuffer.isEncoderBuffer(item))\n        item = new EncoderBuffer(item, reporter);\n      this.length += item.length;\n      return item;\n    }, this);\n  } else if (typeof value === 'number') {\n    if (!(0 <= value && value <= 0xff))\n      return reporter.error('non-byte EncoderBuffer value');\n    this.value = value;\n    this.length = 1;\n  } else if (typeof value === 'string') {\n    this.value = value;\n    this.length = Buffer.byteLength(value);\n  } else if (Buffer.isBuffer(value)) {\n    this.value = value;\n    this.length = value.length;\n  } else {\n    return reporter.error('Unsupported type: ' + typeof value);\n  }\n}\nexports.EncoderBuffer = EncoderBuffer;\n\nEncoderBuffer.isEncoderBuffer = function isEncoderBuffer(data) {\n  if (data instanceof EncoderBuffer) {\n    return true;\n  }\n\n  // Or accept compatible API\n  const isCompatible = typeof data === 'object' &&\n    data.constructor.name === 'EncoderBuffer' &&\n    typeof data.length === 'number' &&\n    typeof data.join === 'function';\n\n  return isCompatible;\n};\n\nEncoderBuffer.prototype.join = function join(out, offset) {\n  if (!out)\n    out = Buffer.alloc(this.length);\n  if (!offset)\n    offset = 0;\n\n  if (this.length === 0)\n    return out;\n\n  if (Array.isArray(this.value)) {\n    this.value.forEach(function(item) {\n      item.join(out, offset);\n      offset += item.length;\n    });\n  } else {\n    if (typeof this.value === 'number')\n      out[offset] = this.value;\n    else if (typeof this.value === 'string')\n      out.write(this.value, offset);\n    else if (Buffer.isBuffer(this.value))\n      this.value.copy(out, offset);\n    offset += this.length;\n  }\n\n  return out;\n};\n","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","'use strict';\n\nconst Reporter = require('../base/reporter').Reporter;\nconst EncoderBuffer = require('../base/buffer').EncoderBuffer;\nconst DecoderBuffer = require('../base/buffer').DecoderBuffer;\nconst assert = require('minimalistic-assert');\n\n// Supported tags\nconst tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nconst methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nconst overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent, name) {\n  const state = {};\n  this._baseState = state;\n\n  state.name = name;\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nconst stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  const state = this._baseState;\n  const cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  const res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  const state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      const clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  const state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  const state = this._baseState;\n\n  // Filter children and args\n  const children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      const res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        const value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    const state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    const state = this._baseState;\n    const args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  const state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  const state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  const state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  const state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  const state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  const state = this._baseState;\n  const args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  const state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  const state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  const state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  const state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  const state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  let result = state['default'];\n  let present = true;\n\n  let prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    let tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      const save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  let prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      const explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    const start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      let save;\n      if (state.any)\n        save = input.save();\n      const body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any) {\n      // no-op\n    } else if (state.choice === null) {\n      result = this._decodeGeneric(state.tag, input, options);\n    } else {\n      result = this._decodeChoice(input, options);\n    }\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      const data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n        ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  const state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n      ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  const state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  const state = this._baseState;\n  let result = null;\n  let match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    const save = input.save();\n    const node = state.choice[key];\n    try {\n      const value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  const state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  const result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  const state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  let result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default'];\n    else\n      return;\n  }\n\n  // Encode children first\n  let content = null;\n  let primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      const prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      const res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      const child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        const state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  if (!state.any && state.choice === null) {\n    const tag = state.implicit !== null ? state.implicit : state.tag;\n    const cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  const state = this._baseState;\n\n  const node = state.choice[data.type];\n  if (!node) {\n    assert(\n      false,\n      data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  const state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '()+,-./:=?]*$/.test(str);\n};\n","'use strict';\n\n// Helper\nfunction reverse(map) {\n  const res = {};\n\n  Object.keys(map).forEach(function(key) {\n    // Convert key to integer if it is stringified\n    if ((key | 0) == key)\n      key = key | 0;\n\n    const value = map[key];\n    res[value] = key;\n  });\n\n  return res;\n}\n\nexports.tagClass = {\n  0: 'universal',\n  1: 'application',\n  2: 'context',\n  3: 'private'\n};\nexports.tagClassByName = reverse(exports.tagClass);\n\nexports.tag = {\n  0x00: 'end',\n  0x01: 'bool',\n  0x02: 'int',\n  0x03: 'bitstr',\n  0x04: 'octstr',\n  0x05: 'null_',\n  0x06: 'objid',\n  0x07: 'objDesc',\n  0x08: 'external',\n  0x09: 'real',\n  0x0a: 'enum',\n  0x0b: 'embed',\n  0x0c: 'utf8str',\n  0x0d: 'relativeOid',\n  0x10: 'seq',\n  0x11: 'set',\n  0x12: 'numstr',\n  0x13: 'printstr',\n  0x14: 't61str',\n  0x15: 'videostr',\n  0x16: 'ia5str',\n  0x17: 'utctime',\n  0x18: 'gentime',\n  0x19: 'graphstr',\n  0x1a: 'iso646str',\n  0x1b: 'genstr',\n  0x1c: 'unistr',\n  0x1d: 'charstr',\n  0x1e: 'bmpstr'\n};\nexports.tagByName = reverse(exports.tag);\n","'use strict';\n\nconst inherits = require('inherits');\nconst Buffer = require('safer-buffer').Buffer;\nconst Node = require('../base/node');\n\n// Import DER constants\nconst der = require('../constants/der');\n\nfunction DEREncoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n}\nmodule.exports = DEREncoder;\n\nDEREncoder.prototype.encode = function encode(data, reporter) {\n  return this.tree._encode(data, reporter).join();\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  Node.call(this, 'der', parent);\n}\ninherits(DERNode, Node);\n\nDERNode.prototype._encodeComposite = function encodeComposite(tag,\n  primitive,\n  cls,\n  content) {\n  const encodedTag = encodeTag(tag, primitive, cls, this.reporter);\n\n  // Short form\n  if (content.length < 0x80) {\n    const header = Buffer.alloc(2);\n    header[0] = encodedTag;\n    header[1] = content.length;\n    return this._createEncoderBuffer([ header, content ]);\n  }\n\n  // Long form\n  // Count octets required to store length\n  let lenOctets = 1;\n  for (let i = content.length; i >= 0x100; i >>= 8)\n    lenOctets++;\n\n  const header = Buffer.alloc(1 + 1 + lenOctets);\n  header[0] = encodedTag;\n  header[1] = 0x80 | lenOctets;\n\n  for (let i = 1 + lenOctets, j = content.length; j > 0; i--, j >>= 8)\n    header[i] = j & 0xff;\n\n  return this._createEncoderBuffer([ header, content ]);\n};\n\nDERNode.prototype._encodeStr = function encodeStr(str, tag) {\n  if (tag === 'bitstr') {\n    return this._createEncoderBuffer([ str.unused | 0, str.data ]);\n  } else if (tag === 'bmpstr') {\n    const buf = Buffer.alloc(str.length * 2);\n    for (let i = 0; i < str.length; i++) {\n      buf.writeUInt16BE(str.charCodeAt(i), i * 2);\n    }\n    return this._createEncoderBuffer(buf);\n  } else if (tag === 'numstr') {\n    if (!this._isNumstr(str)) {\n      return this.reporter.error('Encoding of string type: numstr supports ' +\n                                 'only digits and space');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'printstr') {\n    if (!this._isPrintstr(str)) {\n      return this.reporter.error('Encoding of string type: printstr supports ' +\n                                 'only latin upper and lower case letters, ' +\n                                 'digits, space, apostrophe, left and rigth ' +\n                                 'parenthesis, plus sign, comma, hyphen, ' +\n                                 'dot, slash, colon, equal sign, ' +\n                                 'question mark');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (/str$/.test(tag)) {\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'objDesc') {\n    return this._createEncoderBuffer(str);\n  } else {\n    return this.reporter.error('Encoding of string type: ' + tag +\n                               ' unsupported');\n  }\n};\n\nDERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {\n  if (typeof id === 'string') {\n    if (!values)\n      return this.reporter.error('string objid given, but no values map found');\n    if (!values.hasOwnProperty(id))\n      return this.reporter.error('objid not found in values map');\n    id = values[id].split(/[\\s.]+/g);\n    for (let i = 0; i < id.length; i++)\n      id[i] |= 0;\n  } else if (Array.isArray(id)) {\n    id = id.slice();\n    for (let i = 0; i < id.length; i++)\n      id[i] |= 0;\n  }\n\n  if (!Array.isArray(id)) {\n    return this.reporter.error('objid() should be either array or string, ' +\n                               'got: ' + JSON.stringify(id));\n  }\n\n  if (!relative) {\n    if (id[1] >= 40)\n      return this.reporter.error('Second objid identifier OOB');\n    id.splice(0, 2, id[0] * 40 + id[1]);\n  }\n\n  // Count number of octets\n  let size = 0;\n  for (let i = 0; i < id.length; i++) {\n    let ident = id[i];\n    for (size++; ident >= 0x80; ident >>= 7)\n      size++;\n  }\n\n  const objid = Buffer.alloc(size);\n  let offset = objid.length - 1;\n  for (let i = id.length - 1; i >= 0; i--) {\n    let ident = id[i];\n    objid[offset--] = ident & 0x7f;\n    while ((ident >>= 7) > 0)\n      objid[offset--] = 0x80 | (ident & 0x7f);\n  }\n\n  return this._createEncoderBuffer(objid);\n};\n\nfunction two(num) {\n  if (num < 10)\n    return '0' + num;\n  else\n    return num;\n}\n\nDERNode.prototype._encodeTime = function encodeTime(time, tag) {\n  let str;\n  const date = new Date(time);\n\n  if (tag === 'gentime') {\n    str = [\n      two(date.getUTCFullYear()),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else if (tag === 'utctime') {\n    str = [\n      two(date.getUTCFullYear() % 100),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else {\n    this.reporter.error('Encoding ' + tag + ' time is not supported yet');\n  }\n\n  return this._encodeStr(str, 'octstr');\n};\n\nDERNode.prototype._encodeNull = function encodeNull() {\n  return this._createEncoderBuffer('');\n};\n\nDERNode.prototype._encodeInt = function encodeInt(num, values) {\n  if (typeof num === 'string') {\n    if (!values)\n      return this.reporter.error('String int or enum given, but no values map');\n    if (!values.hasOwnProperty(num)) {\n      return this.reporter.error('Values map doesn\\'t contain: ' +\n                                 JSON.stringify(num));\n    }\n    num = values[num];\n  }\n\n  // Bignum, assume big endian\n  if (typeof num !== 'number' && !Buffer.isBuffer(num)) {\n    const numArray = num.toArray();\n    if (!num.sign && numArray[0] & 0x80) {\n      numArray.unshift(0);\n    }\n    num = Buffer.from(numArray);\n  }\n\n  if (Buffer.isBuffer(num)) {\n    let size = num.length;\n    if (num.length === 0)\n      size++;\n\n    const out = Buffer.alloc(size);\n    num.copy(out);\n    if (num.length === 0)\n      out[0] = 0;\n    return this._createEncoderBuffer(out);\n  }\n\n  if (num < 0x80)\n    return this._createEncoderBuffer(num);\n\n  if (num < 0x100)\n    return this._createEncoderBuffer([0, num]);\n\n  let size = 1;\n  for (let i = num; i >= 0x100; i >>= 8)\n    size++;\n\n  const out = new Array(size);\n  for (let i = out.length - 1; i >= 0; i--) {\n    out[i] = num & 0xff;\n    num >>= 8;\n  }\n  if(out[0] & 0x80) {\n    out.unshift(0);\n  }\n\n  return this._createEncoderBuffer(Buffer.from(out));\n};\n\nDERNode.prototype._encodeBool = function encodeBool(value) {\n  return this._createEncoderBuffer(value ? 0xff : 0);\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getEncoder('der').tree;\n};\n\nDERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {\n  const state = this._baseState;\n  let i;\n  if (state['default'] === null)\n    return false;\n\n  const data = dataBuffer.join();\n  if (state.defaultBuffer === undefined)\n    state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();\n\n  if (data.length !== state.defaultBuffer.length)\n    return false;\n\n  for (i=0; i < data.length; i++)\n    if (data[i] !== state.defaultBuffer[i])\n      return false;\n\n  return true;\n};\n\n// Utility methods\n\nfunction encodeTag(tag, primitive, cls, reporter) {\n  let res;\n\n  if (tag === 'seqof')\n    tag = 'seq';\n  else if (tag === 'setof')\n    tag = 'set';\n\n  if (der.tagByName.hasOwnProperty(tag))\n    res = der.tagByName[tag];\n  else if (typeof tag === 'number' && (tag | 0) === tag)\n    res = tag;\n  else\n    return reporter.error('Unknown tag: ' + tag);\n\n  if (res >= 0x1f)\n    return reporter.error('Multi-octet tag encoding unsupported');\n\n  if (!primitive)\n    res |= 0x20;\n\n  res |= (der.tagClassByName[cls || 'universal'] << 6);\n\n  return res;\n}\n","'use strict';\n\nconst inherits = require('inherits');\n\nconst DEREncoder = require('./der');\n\nfunction PEMEncoder(entity) {\n  DEREncoder.call(this, entity);\n  this.enc = 'pem';\n}\ninherits(PEMEncoder, DEREncoder);\nmodule.exports = PEMEncoder;\n\nPEMEncoder.prototype.encode = function encode(data, options) {\n  const buf = DEREncoder.prototype.encode.call(this, data);\n\n  const p = buf.toString('base64');\n  const out = [ '-----BEGIN ' + options.label + '-----' ];\n  for (let i = 0; i < p.length; i += 64)\n    out.push(p.slice(i, i + 64));\n  out.push('-----END ' + options.label + '-----');\n  return out.join('\\n');\n};\n","'use strict';\n\nconst encoders = exports;\n\nencoders.der = require('./der');\nencoders.pem = require('./pem');\n","'use strict';\n\nconst inherits = require('inherits');\n\nconst bignum = require('bn.js');\nconst DecoderBuffer = require('../base/buffer').DecoderBuffer;\nconst Node = require('../base/node');\n\n// Import DER constants\nconst der = require('../constants/der');\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n}\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!DecoderBuffer.isDecoderBuffer(data)) {\n    data = new DecoderBuffer(data, options);\n  }\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  Node.call(this, 'der', parent);\n}\ninherits(DERNode, Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  const state = buffer.save();\n  const decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  const decodedTag = derDecodeTag(buffer,\n    'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  let len = derDecodeLen(buffer,\n    decodedTag.primitive,\n    'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  const state = buffer.save();\n  const res = this._skipUntilEnd(\n    buffer,\n    'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  for (;;) {\n    const tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    const len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    let res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len);\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n  options) {\n  const result = [];\n  while (!buffer.isEmpty()) {\n    const possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    const res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    const unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    const raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    let str = '';\n    for (let i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    const numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    const printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  let result;\n  const identifiers = [];\n  let ident = 0;\n  let subident = 0;\n  while (!buffer.isEmpty()) {\n    subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  const first = (identifiers[0] / 40) | 0;\n  const second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    let tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  const str = buffer.raw().toString();\n\n  let year;\n  let mon;\n  let day;\n  let hour;\n  let min;\n  let sec;\n  if (tag === 'gentime') {\n    year = str.slice(0, 4) | 0;\n    mon = str.slice(4, 6) | 0;\n    day = str.slice(6, 8) | 0;\n    hour = str.slice(8, 10) | 0;\n    min = str.slice(10, 12) | 0;\n    sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    year = str.slice(0, 2) | 0;\n    mon = str.slice(2, 4) | 0;\n    day = str.slice(4, 6) | 0;\n    hour = str.slice(6, 8) | 0;\n    min = str.slice(8, 10) | 0;\n    sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull() {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  const res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  const raw = buffer.raw();\n  let res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  let tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  const cls = der.tagClass[tag >> 6];\n  const primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    let oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  const tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  let len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  const num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (let i = 0; i < num; i++) {\n    len <<= 8;\n    const j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n","'use strict';\n\nconst inherits = require('inherits');\nconst Buffer = require('safer-buffer').Buffer;\n\nconst DERDecoder = require('./der');\n\nfunction PEMDecoder(entity) {\n  DERDecoder.call(this, entity);\n  this.enc = 'pem';\n}\ninherits(PEMDecoder, DERDecoder);\nmodule.exports = PEMDecoder;\n\nPEMDecoder.prototype.decode = function decode(data, options) {\n  const lines = data.toString().split(/[\\r\\n]+/g);\n\n  const label = options.label.toUpperCase();\n\n  const re = /^-----(BEGIN|END) ([^-]+)-----$/;\n  let start = -1;\n  let end = -1;\n  for (let i = 0; i < lines.length; i++) {\n    const match = lines[i].match(re);\n    if (match === null)\n      continue;\n\n    if (match[2] !== label)\n      continue;\n\n    if (start === -1) {\n      if (match[1] !== 'BEGIN')\n        break;\n      start = i;\n    } else {\n      if (match[1] !== 'END')\n        break;\n      end = i;\n      break;\n    }\n  }\n  if (start === -1 || end === -1)\n    throw new Error('PEM section not found for: ' + label);\n\n  const base64 = lines.slice(start + 1, end).join('');\n  // Remove excessive symbols\n  base64.replace(/[^a-z0-9+/=]+/gi, '');\n\n  const input = Buffer.from(base64, 'base64');\n  return DERDecoder.prototype.decode.call(this, input, options);\n};\n","'use strict';\n\nconst decoders = exports;\n\ndecoders.der = require('./der');\ndecoders.pem = require('./pem');\n","'use strict';\n\nconst encoders = require('./encoders');\nconst decoders = require('./decoders');\nconst inherits = require('inherits');\n\nconst api = exports;\n\napi.define = function define(name, body) {\n  return new Entity(name, body);\n};\n\nfunction Entity(name, body) {\n  this.name = name;\n  this.body = body;\n\n  this.decoders = {};\n  this.encoders = {};\n}\n\nEntity.prototype._createNamed = function createNamed(Base) {\n  const name = this.name;\n\n  function Generated(entity) {\n    this._initNamed(entity, name);\n  }\n  inherits(Generated, Base);\n  Generated.prototype._initNamed = function _initNamed(entity, name) {\n    Base.call(this, entity, name);\n  };\n\n  return new Generated(this);\n};\n\nEntity.prototype._getDecoder = function _getDecoder(enc) {\n  enc = enc || 'der';\n  // Lazily create decoder\n  if (!this.decoders.hasOwnProperty(enc))\n    this.decoders[enc] = this._createNamed(decoders[enc]);\n  return this.decoders[enc];\n};\n\nEntity.prototype.decode = function decode(data, enc, options) {\n  return this._getDecoder(enc).decode(data, options);\n};\n\nEntity.prototype._getEncoder = function _getEncoder(enc) {\n  enc = enc || 'der';\n  // Lazily create encoder\n  if (!this.encoders.hasOwnProperty(enc))\n    this.encoders[enc] = this._createNamed(encoders[enc]);\n  return this.encoders[enc];\n};\n\nEntity.prototype.encode = function encode(data, enc, /* internal */ reporter) {\n  return this._getEncoder(enc).encode(data, reporter);\n};\n","'use strict';\n\nconst base = exports;\n\nbase.Reporter = require('./reporter').Reporter;\nbase.DecoderBuffer = require('./buffer').DecoderBuffer;\nbase.EncoderBuffer = require('./buffer').EncoderBuffer;\nbase.Node = require('./node');\n","'use strict';\n\nconst constants = exports;\n\n// Helper\nconstants._reverse = function reverse(map) {\n  const res = {};\n\n  Object.keys(map).forEach(function(key) {\n    // Convert key to integer if it is stringified\n    if ((key | 0) == key)\n      key = key | 0;\n\n    const value = map[key];\n    res[value] = key;\n  });\n\n  return res;\n};\n\nconstants.der = require('./der');\n","'use strict';\n\nconst asn1 = exports;\n\nasn1.bignum = require('bn.js');\n\nasn1.define = require('./asn1/api').define;\nasn1.base = require('./asn1/base');\nasn1.constants = require('./asn1/constants');\nasn1.decoders = require('./asn1/decoders');\nasn1.encoders = require('./asn1/encoders');\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*global module, process*/\nvar Buffer = require('safe-buffer').Buffer;\nvar Stream = require('stream');\nvar util = require('util');\n\nfunction DataStream(data) {\n  this.buffer = null;\n  this.writable = true;\n  this.readable = true;\n\n  // No input\n  if (!data) {\n    this.buffer = Buffer.alloc(0);\n    return this;\n  }\n\n  // Stream\n  if (typeof data.pipe === 'function') {\n    this.buffer = Buffer.alloc(0);\n    data.pipe(this);\n    return this;\n  }\n\n  // Buffer or String\n  // or Object (assumedly a passworded key)\n  if (data.length || typeof data === 'object') {\n    this.buffer = data;\n    this.writable = false;\n    process.nextTick(function () {\n      this.emit('end', data);\n      this.readable = false;\n      this.emit('close');\n    }.bind(this));\n    return this;\n  }\n\n  throw new TypeError('Unexpected data type ('+ typeof data + ')');\n}\nutil.inherits(DataStream, Stream);\n\nDataStream.prototype.write = function write(data) {\n  this.buffer = Buffer.concat([this.buffer, Buffer.from(data)]);\n  this.emit('data', data);\n};\n\nDataStream.prototype.end = function end(data) {\n  if (data)\n    this.write(data);\n  this.emit('end', data);\n  this.emit('close');\n  this.writable = false;\n  this.readable = false;\n};\n\nmodule.exports = DataStream;\n","/*jshint node:true */\n'use strict';\nvar Buffer = require('buffer').Buffer; // browserify\nvar SlowBuffer = require('buffer').SlowBuffer;\n\nmodule.exports = bufferEq;\n\nfunction bufferEq(a, b) {\n\n  // shortcutting on type is necessary for correctness\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    return false;\n  }\n\n  // buffer sizes should be well-known information, so despite this\n  // shortcutting, it doesn't leak any information about the *contents* of the\n  // buffers.\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  var c = 0;\n  for (var i = 0; i < a.length; i++) {\n    /*jshint bitwise:false */\n    c |= a[i] ^ b[i]; // XOR\n  }\n  return c === 0;\n}\n\nbufferEq.install = function() {\n  Buffer.prototype.equal = SlowBuffer.prototype.equal = function equal(that) {\n    return bufferEq(this, that);\n  };\n};\n\nvar origBufEqual = Buffer.prototype.equal;\nvar origSlowBufEqual = SlowBuffer.prototype.equal;\nbufferEq.restore = function() {\n  Buffer.prototype.equal = origBufEqual;\n  SlowBuffer.prototype.equal = origSlowBufEqual;\n};\n","'use strict';\n\nfunction getParamSize(keySize) {\n\tvar result = ((keySize / 8) | 0) + (keySize % 8 === 0 ? 0 : 1);\n\treturn result;\n}\n\nvar paramBytesForAlg = {\n\tES256: getParamSize(256),\n\tES384: getParamSize(384),\n\tES512: getParamSize(521)\n};\n\nfunction getParamBytesForAlg(alg) {\n\tvar paramBytes = paramBytesForAlg[alg];\n\tif (paramBytes) {\n\t\treturn paramBytes;\n\t}\n\n\tthrow new Error('Unknown algorithm \"' + alg + '\"');\n}\n\nmodule.exports = getParamBytesForAlg;\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar getParamBytesForAlg = require('./param-bytes-for-alg');\n\nvar MAX_OCTET = 0x80,\n\tCLASS_UNIVERSAL = 0,\n\tPRIMITIVE_BIT = 0x20,\n\tTAG_SEQ = 0x10,\n\tTAG_INT = 0x02,\n\tENCODED_TAG_SEQ = (TAG_SEQ | PRIMITIVE_BIT) | (CLASS_UNIVERSAL << 6),\n\tENCODED_TAG_INT = TAG_INT | (CLASS_UNIVERSAL << 6);\n\nfunction base64Url(base64) {\n\treturn base64\n\t\t.replace(/=/g, '')\n\t\t.replace(/\\+/g, '-')\n\t\t.replace(/\\//g, '_');\n}\n\nfunction signatureAsBuffer(signature) {\n\tif (Buffer.isBuffer(signature)) {\n\t\treturn signature;\n\t} else if ('string' === typeof signature) {\n\t\treturn Buffer.from(signature, 'base64');\n\t}\n\n\tthrow new TypeError('ECDSA signature must be a Base64 string or a Buffer');\n}\n\nfunction derToJose(signature, alg) {\n\tsignature = signatureAsBuffer(signature);\n\tvar paramBytes = getParamBytesForAlg(alg);\n\n\t// the DER encoded param should at most be the param size, plus a padding\n\t// zero, since due to being a signed integer\n\tvar maxEncodedParamLength = paramBytes + 1;\n\n\tvar inputLength = signature.length;\n\n\tvar offset = 0;\n\tif (signature[offset++] !== ENCODED_TAG_SEQ) {\n\t\tthrow new Error('Could not find expected \"seq\"');\n\t}\n\n\tvar seqLength = signature[offset++];\n\tif (seqLength === (MAX_OCTET | 1)) {\n\t\tseqLength = signature[offset++];\n\t}\n\n\tif (inputLength - offset < seqLength) {\n\t\tthrow new Error('\"seq\" specified length of \"' + seqLength + '\", only \"' + (inputLength - offset) + '\" remaining');\n\t}\n\n\tif (signature[offset++] !== ENCODED_TAG_INT) {\n\t\tthrow new Error('Could not find expected \"int\" for \"r\"');\n\t}\n\n\tvar rLength = signature[offset++];\n\n\tif (inputLength - offset - 2 < rLength) {\n\t\tthrow new Error('\"r\" specified length of \"' + rLength + '\", only \"' + (inputLength - offset - 2) + '\" available');\n\t}\n\n\tif (maxEncodedParamLength < rLength) {\n\t\tthrow new Error('\"r\" specified length of \"' + rLength + '\", max of \"' + maxEncodedParamLength + '\" is acceptable');\n\t}\n\n\tvar rOffset = offset;\n\toffset += rLength;\n\n\tif (signature[offset++] !== ENCODED_TAG_INT) {\n\t\tthrow new Error('Could not find expected \"int\" for \"s\"');\n\t}\n\n\tvar sLength = signature[offset++];\n\n\tif (inputLength - offset !== sLength) {\n\t\tthrow new Error('\"s\" specified length of \"' + sLength + '\", expected \"' + (inputLength - offset) + '\"');\n\t}\n\n\tif (maxEncodedParamLength < sLength) {\n\t\tthrow new Error('\"s\" specified length of \"' + sLength + '\", max of \"' + maxEncodedParamLength + '\" is acceptable');\n\t}\n\n\tvar sOffset = offset;\n\toffset += sLength;\n\n\tif (offset !== inputLength) {\n\t\tthrow new Error('Expected to consume entire buffer, but \"' + (inputLength - offset) + '\" bytes remain');\n\t}\n\n\tvar rPadding = paramBytes - rLength,\n\t\tsPadding = paramBytes - sLength;\n\n\tvar dst = Buffer.allocUnsafe(rPadding + rLength + sPadding + sLength);\n\n\tfor (offset = 0; offset < rPadding; ++offset) {\n\t\tdst[offset] = 0;\n\t}\n\tsignature.copy(dst, offset, rOffset + Math.max(-rPadding, 0), rOffset + rLength);\n\n\toffset = paramBytes;\n\n\tfor (var o = offset; offset < o + sPadding; ++offset) {\n\t\tdst[offset] = 0;\n\t}\n\tsignature.copy(dst, offset, sOffset + Math.max(-sPadding, 0), sOffset + sLength);\n\n\tdst = dst.toString('base64');\n\tdst = base64Url(dst);\n\n\treturn dst;\n}\n\nfunction countPadding(buf, start, stop) {\n\tvar padding = 0;\n\twhile (start + padding < stop && buf[start + padding] === 0) {\n\t\t++padding;\n\t}\n\n\tvar needsSign = buf[start + padding] >= MAX_OCTET;\n\tif (needsSign) {\n\t\t--padding;\n\t}\n\n\treturn padding;\n}\n\nfunction joseToDer(signature, alg) {\n\tsignature = signatureAsBuffer(signature);\n\tvar paramBytes = getParamBytesForAlg(alg);\n\n\tvar signatureBytes = signature.length;\n\tif (signatureBytes !== paramBytes * 2) {\n\t\tthrow new TypeError('\"' + alg + '\" signatures must be \"' + paramBytes * 2 + '\" bytes, saw \"' + signatureBytes + '\"');\n\t}\n\n\tvar rPadding = countPadding(signature, 0, paramBytes);\n\tvar sPadding = countPadding(signature, paramBytes, signature.length);\n\tvar rLength = paramBytes - rPadding;\n\tvar sLength = paramBytes - sPadding;\n\n\tvar rsBytes = 1 + 1 + rLength + 1 + 1 + sLength;\n\n\tvar shortLength = rsBytes < MAX_OCTET;\n\n\tvar dst = Buffer.allocUnsafe((shortLength ? 2 : 3) + rsBytes);\n\n\tvar offset = 0;\n\tdst[offset++] = ENCODED_TAG_SEQ;\n\tif (shortLength) {\n\t\t// Bit 8 has value \"0\"\n\t\t// bits 7-1 give the length.\n\t\tdst[offset++] = rsBytes;\n\t} else {\n\t\t// Bit 8 of first octet has value \"1\"\n\t\t// bits 7-1 give the number of additional length octets.\n\t\tdst[offset++] = MAX_OCTET\t| 1;\n\t\t// length, base 256\n\t\tdst[offset++] = rsBytes & 0xff;\n\t}\n\tdst[offset++] = ENCODED_TAG_INT;\n\tdst[offset++] = rLength;\n\tif (rPadding < 0) {\n\t\tdst[offset++] = 0;\n\t\toffset += signature.copy(dst, offset, 0, paramBytes);\n\t} else {\n\t\toffset += signature.copy(dst, offset, rPadding, paramBytes);\n\t}\n\tdst[offset++] = ENCODED_TAG_INT;\n\tdst[offset++] = sLength;\n\tif (sPadding < 0) {\n\t\tdst[offset++] = 0;\n\t\tsignature.copy(dst, offset, paramBytes);\n\t} else {\n\t\tsignature.copy(dst, offset, paramBytes + sPadding);\n\t}\n\n\treturn dst;\n}\n\nmodule.exports = {\n\tderToJose: derToJose,\n\tjoseToDer: joseToDer\n};\n","var bufferEqual = require('buffer-equal-constant-time');\nvar Buffer = require('safe-buffer').Buffer;\nvar crypto = require('crypto');\nvar formatEcdsa = require('ecdsa-sig-formatter');\nvar util = require('util');\n\nvar MSG_INVALID_ALGORITHM = '\"%s\" is not a valid algorithm.\\n  Supported algorithms are:\\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".'\nvar MSG_INVALID_SECRET = 'secret must be a string or buffer';\nvar MSG_INVALID_VERIFIER_KEY = 'key must be a string or a buffer';\nvar MSG_INVALID_SIGNER_KEY = 'key must be a string, a buffer or an object';\n\nvar supportsKeyObjects = typeof crypto.createPublicKey === 'function';\nif (supportsKeyObjects) {\n  MSG_INVALID_VERIFIER_KEY += ' or a KeyObject';\n  MSG_INVALID_SECRET += 'or a KeyObject';\n}\n\nfunction checkIsPublicKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return;\n  }\n\n  if (!supportsKeyObjects) {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key !== 'object') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.type !== 'string') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.asymmetricKeyType !== 'string') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.export !== 'function') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n};\n\nfunction checkIsPrivateKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return;\n  }\n\n  if (typeof key === 'object') {\n    return;\n  }\n\n  throw typeError(MSG_INVALID_SIGNER_KEY);\n};\n\nfunction checkIsSecretKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return key;\n  }\n\n  if (!supportsKeyObjects) {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (typeof key !== 'object') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (key.type !== 'secret') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (typeof key.export !== 'function') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n}\n\nfunction fromBase64(base64) {\n  return base64\n    .replace(/=/g, '')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_');\n}\n\nfunction toBase64(base64url) {\n  base64url = base64url.toString();\n\n  var padding = 4 - base64url.length % 4;\n  if (padding !== 4) {\n    for (var i = 0; i < padding; ++i) {\n      base64url += '=';\n    }\n  }\n\n  return base64url\n    .replace(/\\-/g, '+')\n    .replace(/_/g, '/');\n}\n\nfunction typeError(template) {\n  var args = [].slice.call(arguments, 1);\n  var errMsg = util.format.bind(util, template).apply(null, args);\n  return new TypeError(errMsg);\n}\n\nfunction bufferOrString(obj) {\n  return Buffer.isBuffer(obj) || typeof obj === 'string';\n}\n\nfunction normalizeInput(thing) {\n  if (!bufferOrString(thing))\n    thing = JSON.stringify(thing);\n  return thing;\n}\n\nfunction createHmacSigner(bits) {\n  return function sign(thing, secret) {\n    checkIsSecretKey(secret);\n    thing = normalizeInput(thing);\n    var hmac = crypto.createHmac('sha' + bits, secret);\n    var sig = (hmac.update(thing), hmac.digest('base64'))\n    return fromBase64(sig);\n  }\n}\n\nfunction createHmacVerifier(bits) {\n  return function verify(thing, signature, secret) {\n    var computedSig = createHmacSigner(bits)(thing, secret);\n    return bufferEqual(Buffer.from(signature), Buffer.from(computedSig));\n  }\n}\n\nfunction createKeySigner(bits) {\n return function sign(thing, privateKey) {\n    checkIsPrivateKey(privateKey);\n    thing = normalizeInput(thing);\n    // Even though we are specifying \"RSA\" here, this works with ECDSA\n    // keys as well.\n    var signer = crypto.createSign('RSA-SHA' + bits);\n    var sig = (signer.update(thing), signer.sign(privateKey, 'base64'));\n    return fromBase64(sig);\n  }\n}\n\nfunction createKeyVerifier(bits) {\n  return function verify(thing, signature, publicKey) {\n    checkIsPublicKey(publicKey);\n    thing = normalizeInput(thing);\n    signature = toBase64(signature);\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\n    verifier.update(thing);\n    return verifier.verify(publicKey, signature, 'base64');\n  }\n}\n\nfunction createPSSKeySigner(bits) {\n  return function sign(thing, privateKey) {\n    checkIsPrivateKey(privateKey);\n    thing = normalizeInput(thing);\n    var signer = crypto.createSign('RSA-SHA' + bits);\n    var sig = (signer.update(thing), signer.sign({\n      key: privateKey,\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\n    }, 'base64'));\n    return fromBase64(sig);\n  }\n}\n\nfunction createPSSKeyVerifier(bits) {\n  return function verify(thing, signature, publicKey) {\n    checkIsPublicKey(publicKey);\n    thing = normalizeInput(thing);\n    signature = toBase64(signature);\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\n    verifier.update(thing);\n    return verifier.verify({\n      key: publicKey,\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\n    }, signature, 'base64');\n  }\n}\n\nfunction createECDSASigner(bits) {\n  var inner = createKeySigner(bits);\n  return function sign() {\n    var signature = inner.apply(null, arguments);\n    signature = formatEcdsa.derToJose(signature, 'ES' + bits);\n    return signature;\n  };\n}\n\nfunction createECDSAVerifer(bits) {\n  var inner = createKeyVerifier(bits);\n  return function verify(thing, signature, publicKey) {\n    signature = formatEcdsa.joseToDer(signature, 'ES' + bits).toString('base64');\n    var result = inner(thing, signature, publicKey);\n    return result;\n  };\n}\n\nfunction createNoneSigner() {\n  return function sign() {\n    return '';\n  }\n}\n\nfunction createNoneVerifier() {\n  return function verify(thing, signature) {\n    return signature === '';\n  }\n}\n\nmodule.exports = function jwa(algorithm) {\n  var signerFactories = {\n    hs: createHmacSigner,\n    rs: createKeySigner,\n    ps: createPSSKeySigner,\n    es: createECDSASigner,\n    none: createNoneSigner,\n  }\n  var verifierFactories = {\n    hs: createHmacVerifier,\n    rs: createKeyVerifier,\n    ps: createPSSKeyVerifier,\n    es: createECDSAVerifer,\n    none: createNoneVerifier,\n  }\n  var match = algorithm.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);\n  if (!match)\n    throw typeError(MSG_INVALID_ALGORITHM, algorithm);\n  var algo = (match[1] || match[3]).toLowerCase();\n  var bits = match[2];\n\n  return {\n    sign: signerFactories[algo](bits),\n    verify: verifierFactories[algo](bits),\n  }\n};\n","/*global module*/\nvar Buffer = require('buffer').Buffer;\n\nmodule.exports = function toString(obj) {\n  if (typeof obj === 'string')\n    return obj;\n  if (typeof obj === 'number' || Buffer.isBuffer(obj))\n    return obj.toString();\n  return JSON.stringify(obj);\n};\n","/*global module*/\nvar Buffer = require('safe-buffer').Buffer;\nvar DataStream = require('./data-stream');\nvar jwa = require('jwa');\nvar Stream = require('stream');\nvar toString = require('./tostring');\nvar util = require('util');\n\nfunction base64url(string, encoding) {\n  return Buffer\n    .from(string, encoding)\n    .toString('base64')\n    .replace(/=/g, '')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_');\n}\n\nfunction jwsSecuredInput(header, payload, encoding) {\n  encoding = encoding || 'utf8';\n  var encodedHeader = base64url(toString(header), 'binary');\n  var encodedPayload = base64url(toString(payload), encoding);\n  return util.format('%s.%s', encodedHeader, encodedPayload);\n}\n\nfunction jwsSign(opts) {\n  var header = opts.header;\n  var payload = opts.payload;\n  var secretOrKey = opts.secret || opts.privateKey;\n  var encoding = opts.encoding;\n  var algo = jwa(header.alg);\n  var securedInput = jwsSecuredInput(header, payload, encoding);\n  var signature = algo.sign(securedInput, secretOrKey);\n  return util.format('%s.%s', securedInput, signature);\n}\n\nfunction SignStream(opts) {\n  var secret = opts.secret||opts.privateKey||opts.key;\n  var secretStream = new DataStream(secret);\n  this.readable = true;\n  this.header = opts.header;\n  this.encoding = opts.encoding;\n  this.secret = this.privateKey = this.key = secretStream;\n  this.payload = new DataStream(opts.payload);\n  this.secret.once('close', function () {\n    if (!this.payload.writable && this.readable)\n      this.sign();\n  }.bind(this));\n\n  this.payload.once('close', function () {\n    if (!this.secret.writable && this.readable)\n      this.sign();\n  }.bind(this));\n}\nutil.inherits(SignStream, Stream);\n\nSignStream.prototype.sign = function sign() {\n  try {\n    var signature = jwsSign({\n      header: this.header,\n      payload: this.payload.buffer,\n      secret: this.secret.buffer,\n      encoding: this.encoding\n    });\n    this.emit('done', signature);\n    this.emit('data', signature);\n    this.emit('end');\n    this.readable = false;\n    return signature;\n  } catch (e) {\n    this.readable = false;\n    this.emit('error', e);\n    this.emit('close');\n  }\n};\n\nSignStream.sign = jwsSign;\n\nmodule.exports = SignStream;\n","/*global module*/\nvar Buffer = require('safe-buffer').Buffer;\nvar DataStream = require('./data-stream');\nvar jwa = require('jwa');\nvar Stream = require('stream');\nvar toString = require('./tostring');\nvar util = require('util');\nvar JWS_REGEX = /^[a-zA-Z0-9\\-_]+?\\.[a-zA-Z0-9\\-_]+?\\.([a-zA-Z0-9\\-_]+)?$/;\n\nfunction isObject(thing) {\n  return Object.prototype.toString.call(thing) === '[object Object]';\n}\n\nfunction safeJsonParse(thing) {\n  if (isObject(thing))\n    return thing;\n  try { return JSON.parse(thing); }\n  catch (e) { return undefined; }\n}\n\nfunction headerFromJWS(jwsSig) {\n  var encodedHeader = jwsSig.split('.', 1)[0];\n  return safeJsonParse(Buffer.from(encodedHeader, 'base64').toString('binary'));\n}\n\nfunction securedInputFromJWS(jwsSig) {\n  return jwsSig.split('.', 2).join('.');\n}\n\nfunction signatureFromJWS(jwsSig) {\n  return jwsSig.split('.')[2];\n}\n\nfunction payloadFromJWS(jwsSig, encoding) {\n  encoding = encoding || 'utf8';\n  var payload = jwsSig.split('.')[1];\n  return Buffer.from(payload, 'base64').toString(encoding);\n}\n\nfunction isValidJws(string) {\n  return JWS_REGEX.test(string) && !!headerFromJWS(string);\n}\n\nfunction jwsVerify(jwsSig, algorithm, secretOrKey) {\n  if (!algorithm) {\n    var err = new Error(\"Missing algorithm parameter for jws.verify\");\n    err.code = \"MISSING_ALGORITHM\";\n    throw err;\n  }\n  jwsSig = toString(jwsSig);\n  var signature = signatureFromJWS(jwsSig);\n  var securedInput = securedInputFromJWS(jwsSig);\n  var algo = jwa(algorithm);\n  return algo.verify(securedInput, signature, secretOrKey);\n}\n\nfunction jwsDecode(jwsSig, opts) {\n  opts = opts || {};\n  jwsSig = toString(jwsSig);\n\n  if (!isValidJws(jwsSig))\n    return null;\n\n  var header = headerFromJWS(jwsSig);\n\n  if (!header)\n    return null;\n\n  var payload = payloadFromJWS(jwsSig);\n  if (header.typ === 'JWT' || opts.json)\n    payload = JSON.parse(payload, opts.encoding);\n\n  return {\n    header: header,\n    payload: payload,\n    signature: signatureFromJWS(jwsSig)\n  };\n}\n\nfunction VerifyStream(opts) {\n  opts = opts || {};\n  var secretOrKey = opts.secret||opts.publicKey||opts.key;\n  var secretStream = new DataStream(secretOrKey);\n  this.readable = true;\n  this.algorithm = opts.algorithm;\n  this.encoding = opts.encoding;\n  this.secret = this.publicKey = this.key = secretStream;\n  this.signature = new DataStream(opts.signature);\n  this.secret.once('close', function () {\n    if (!this.signature.writable && this.readable)\n      this.verify();\n  }.bind(this));\n\n  this.signature.once('close', function () {\n    if (!this.secret.writable && this.readable)\n      this.verify();\n  }.bind(this));\n}\nutil.inherits(VerifyStream, Stream);\nVerifyStream.prototype.verify = function verify() {\n  try {\n    var valid = jwsVerify(this.signature.buffer, this.algorithm, this.key.buffer);\n    var obj = jwsDecode(this.signature.buffer, this.encoding);\n    this.emit('done', valid, obj);\n    this.emit('data', valid);\n    this.emit('end');\n    this.readable = false;\n    return valid;\n  } catch (e) {\n    this.readable = false;\n    this.emit('error', e);\n    this.emit('close');\n  }\n};\n\nVerifyStream.decode = jwsDecode;\nVerifyStream.isValid = isValidJws;\nVerifyStream.verify = jwsVerify;\n\nmodule.exports = VerifyStream;\n","/*global exports*/\nvar SignStream = require('./lib/sign-stream');\nvar VerifyStream = require('./lib/verify-stream');\n\nvar ALGORITHMS = [\n  'HS256', 'HS384', 'HS512',\n  'RS256', 'RS384', 'RS512',\n  'PS256', 'PS384', 'PS512',\n  'ES256', 'ES384', 'ES512'\n];\n\nexports.ALGORITHMS = ALGORITHMS;\nexports.sign = SignStream.sign;\nexports.verify = VerifyStream.verify;\nexports.decode = VerifyStream.decode;\nexports.isValid = VerifyStream.isValid;\nexports.createSign = function createSign(opts) {\n  return new SignStream(opts);\n};\nexports.createVerify = function createVerify(opts) {\n  return new VerifyStream(opts);\n};\n","'use strict';\n\nconst WebPushConstants = {};\n\nWebPushConstants.supportedContentEncodings = {\n  AES_GCM: 'aesgcm',\n  AES_128_GCM: 'aes128gcm'\n};\n\nmodule.exports = WebPushConstants;\n","'use strict';\n\nconst crypto = require('crypto');\nconst urlBase64 = require('urlsafe-base64');\nconst asn1 = require('asn1.js');\nconst jws = require('jws');\nconst url = require('url');\n\nconst WebPushConstants = require('./web-push-constants.js');\n\n/**\n * DEFAULT_EXPIRATION is set to seconds in 12 hours\n */\nconst DEFAULT_EXPIRATION_SECONDS = 12 * 60 * 60;\n\n// Maximum expiration is 24 hours according. (See VAPID spec)\nconst MAX_EXPIRATION_SECONDS = 24 * 60 * 60;\n\nconst ECPrivateKeyASN = asn1.define('ECPrivateKey', function() {\n  this.seq().obj(\n    this.key('version').int(),\n    this.key('privateKey').octstr(),\n    this.key('parameters').explicit(0).objid()\n      .optional(),\n    this.key('publicKey').explicit(1).bitstr()\n      .optional()\n  );\n});\n\nfunction toPEM(key) {\n  return ECPrivateKeyASN.encode({\n    version: 1,\n    privateKey: key,\n    parameters: [1, 2, 840, 10045, 3, 1, 7] // prime256v1\n  }, 'pem', {\n    label: 'EC PRIVATE KEY'\n  });\n}\n\nfunction generateVAPIDKeys() {\n  const curve = crypto.createECDH('prime256v1');\n  curve.generateKeys();\n\n  let publicKeyBuffer = curve.getPublicKey();\n  let privateKeyBuffer = curve.getPrivateKey();\n\n  // Occassionally the keys will not be padded to the correct lengh resulting\n  // in errors, hence this padding.\n  // See https://github.com/web-push-libs/web-push/issues/295 for history.\n  if (privateKeyBuffer.length < 32) {\n    const padding = Buffer.alloc(32 - privateKeyBuffer.length);\n    padding.fill(0);\n    privateKeyBuffer = Buffer.concat([padding, privateKeyBuffer]);\n  }\n\n  if (publicKeyBuffer.length < 65) {\n    const padding = Buffer.alloc(65 - publicKeyBuffer.length);\n    padding.fill(0);\n    publicKeyBuffer = Buffer.concat([padding, publicKeyBuffer]);\n  }\n\n  return {\n    publicKey: urlBase64.encode(publicKeyBuffer),\n    privateKey: urlBase64.encode(privateKeyBuffer)\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('No subject set in vapidDetails.subject.');\n  }\n\n  if (typeof subject !== 'string' || subject.length === 0) {\n    throw new Error('The subject value must be a string containing a URL or '\n    + 'mailto: address. ' + subject);\n  }\n\n  if (subject.indexOf('mailto:') !== 0) {\n    const subjectParseResult = url.parse(subject);\n    if (!subjectParseResult.hostname) {\n      throw new Error('Vapid subject is not a url or mailto url. ' + subject);\n    }\n  }\n}\n\nfunction validatePublicKey(publicKey) {\n  if (!publicKey) {\n    throw new Error('No key set vapidDetails.publicKey');\n  }\n\n  if (typeof publicKey !== 'string') {\n    throw new Error('Vapid public key is must be a URL safe Base 64 '\n    + 'encoded string.');\n  }\n\n  if (!urlBase64.validate(publicKey)) {\n    throw new Error('Vapid public key must be a URL safe Base 64 (without \"=\")');\n  }\n\n  publicKey = urlBase64.decode(publicKey);\n\n  if (publicKey.length !== 65) {\n    throw new Error('Vapid public key should be 65 bytes long when decoded.');\n  }\n}\n\nfunction validatePrivateKey(privateKey) {\n  if (!privateKey) {\n    throw new Error('No key set in vapidDetails.privateKey');\n  }\n\n  if (typeof privateKey !== 'string') {\n    throw new Error('Vapid private key must be a URL safe Base 64 '\n    + 'encoded string.');\n  }\n\n  if (!urlBase64.validate(privateKey)) {\n    throw new Error('Vapid private key must be a URL safe Base 64 (without \"=\")');\n  }\n\n  privateKey = urlBase64.decode(privateKey);\n\n  if (privateKey.length !== 32) {\n    throw new Error('Vapid private key should be 32 bytes long when decoded.');\n  }\n}\n\n/**\n * Given the number of seconds calculates\n * the expiration in the future by adding the passed `numSeconds`\n * with the current seconds from Unix Epoch\n *\n * @param {Number} numSeconds Number of seconds to be added\n * @return {Number} Future expiration in seconds\n */\nfunction getFutureExpirationTimestamp(numSeconds) {\n  const futureExp = new Date();\n  futureExp.setSeconds(futureExp.getSeconds() + numSeconds);\n  return Math.floor(futureExp.getTime() / 1000);\n}\n\n/**\n * Validates the Expiration Header based on the VAPID Spec\n * Throws error of type `Error` if the expiration is not validated\n *\n * @param {Number} expiration Expiration seconds from Epoch to be validated\n */\nfunction validateExpiration(expiration) {\n  if (!Number.isInteger(expiration)) {\n    throw new Error('`expiration` value must be a number');\n  }\n\n  if (expiration < 0) {\n    throw new Error('`expiration` must be a positive integer');\n  }\n\n  // Roughly checks the time of expiration, since the max expiration can be ahead\n  // of the time than at the moment the expiration was generated\n  const maxExpirationTimestamp = getFutureExpirationTimestamp(MAX_EXPIRATION_SECONDS);\n\n  if (expiration >= maxExpirationTimestamp) {\n    throw new Error('`expiration` value is greater than maximum of 24 hours');\n  }\n}\n\n/**\n * This method takes the required VAPID parameters and returns the required\n * header to be added to a Web Push Protocol Request.\n * @param  {string} audience        This must be the origin of the push service.\n * @param  {string} subject         This should be a URL or a 'mailto:' email\n * address.\n * @param  {string} publicKey       The VAPID public key.\n * @param  {string} privateKey      The VAPID private key.\n * @param  {string} contentEncoding The contentEncoding type.\n * @param  {integer} [expiration]   The expiration of the VAPID JWT.\n * @return {Object}                 Returns an Object with the Authorization and\n * 'Crypto-Key' values to be used as headers.\n */\nfunction getVapidHeaders(audience, subject, publicKey, privateKey, contentEncoding, expiration) {\n  if (!audience) {\n    throw new Error('No audience could be generated for VAPID.');\n  }\n\n  if (typeof audience !== 'string' || audience.length === 0) {\n    throw new Error('The audience value must be a string containing the '\n    + 'origin of a push service. ' + audience);\n  }\n\n  const audienceParseResult = url.parse(audience);\n  if (!audienceParseResult.hostname) {\n    throw new Error('VAPID audience is not a url. ' + audience);\n  }\n\n  validateSubject(subject);\n  validatePublicKey(publicKey);\n  validatePrivateKey(privateKey);\n\n  privateKey = urlBase64.decode(privateKey);\n\n  if (expiration) {\n    validateExpiration(expiration);\n  } else {\n    expiration = getFutureExpirationTimestamp(DEFAULT_EXPIRATION_SECONDS);\n  }\n\n  const header = {\n    typ: 'JWT',\n    alg: 'ES256'\n  };\n\n  const jwtPayload = {\n    aud: audience,\n    exp: expiration,\n    sub: subject\n  };\n\n  const jwt = jws.sign({\n    header: header,\n    payload: jwtPayload,\n    privateKey: toPEM(privateKey)\n  });\n\n  if (contentEncoding === WebPushConstants.supportedContentEncodings.AES_128_GCM) {\n    return {\n      Authorization: 'vapid t=' + jwt + ', k=' + publicKey\n    };\n  }\n  if (contentEncoding === WebPushConstants.supportedContentEncodings.AES_GCM) {\n    return {\n      Authorization: 'WebPush ' + jwt,\n      'Crypto-Key': 'p256ecdsa=' + publicKey\n    };\n  }\n\n  throw new Error('Unsupported encoding type specified.');\n}\n\nmodule.exports = {\n  generateVAPIDKeys: generateVAPIDKeys,\n  getFutureExpirationTimestamp: getFutureExpirationTimestamp,\n  getVapidHeaders: getVapidHeaders,\n  validateSubject: validateSubject,\n  validatePublicKey: validatePublicKey,\n  validatePrivateKey: validatePrivateKey,\n  validateExpiration: validateExpiration\n};\n","'use strict';\n/*\n * Encrypted content coding\n *\n * === Note about versions ===\n *\n * This code supports multiple versions of the draft.  This is selected using\n * the |version| parameter.\n *\n * aes128gcm: The most recent version, the salt, record size and key identifier\n *    are included in a header that is part of the encrypted content coding.\n *\n * aesgcm: The version that is widely deployed with WebPush (as of 2016-11).\n *    This version is selected by default, unless you specify a |padSize| of 1.\n *\n * aesgcm128: This version is old and will be removed in an upcoming release.\n *     This version is selected by providing a |padSize| parameter of 1.\n */\n\nvar crypto = require('crypto');\nvar base64 = require('urlsafe-base64');\n\nvar AES_GCM = 'aes-128-gcm';\nvar PAD_SIZE = { 'aes128gcm': 1, 'aesgcm': 2, 'aesgcm128': 1 };\nvar TAG_LENGTH = 16;\nvar KEY_LENGTH = 16;\nvar NONCE_LENGTH = 12;\nvar SHA_256_LENGTH = 32;\nvar MODE_ENCRYPT = 'encrypt';\nvar MODE_DECRYPT = 'decrypt';\n\nvar keylog;\nif (process.env.ECE_KEYLOG === '1') {\n  keylog = function(m, k) {\n    console.warn(m + ' [' + k.length + ']: ' + base64.encode(k));\n    return k;\n  };\n} else {\n  keylog = function(m, k) { return k; };\n}\n\n/* Optionally base64 decode something. */\nfunction decode(b) {\n  if (typeof b === 'string') {\n    return base64.decode(b);\n  }\n  return b;\n}\n\nfunction HMAC_hash(key, input) {\n  var hmac = crypto.createHmac('sha256', key);\n  hmac.update(input);\n  return hmac.digest();\n}\n\n/* HKDF as defined in RFC5869, using SHA-256 */\nfunction HKDF_extract(salt, ikm) {\n  keylog('salt', salt);\n  keylog('ikm', ikm);\n  return keylog('extract', HMAC_hash(salt, ikm));\n}\n\nfunction HKDF_expand(prk, info, l) {\n  keylog('prk', prk);\n  keylog('info', info);\n  var output = new Buffer(0);\n  var T = new Buffer(0);\n  info = new Buffer(info, 'ascii');\n  var counter = 0;\n  var cbuf = new Buffer(1);\n  while (output.length < l) {\n    cbuf.writeUIntBE(++counter, 0, 1);\n    T = HMAC_hash(prk, Buffer.concat([T, info, cbuf]));\n    output = Buffer.concat([output, T]);\n  }\n\n  return keylog('expand', output.slice(0, l));\n}\n\nfunction HKDF(salt, ikm, info, len) {\n  return HKDF_expand(HKDF_extract(salt, ikm), info, len);\n}\n\nfunction info(base, context) {\n  var result = Buffer.concat([\n    new Buffer('Content-Encoding: ' + base + '\\0', 'ascii'),\n    context\n  ]);\n  keylog('info ' + base, result);\n  return result;\n}\n\nfunction lengthPrefix(buffer) {\n  var b = Buffer.concat([new Buffer(2), buffer]);\n  b.writeUIntBE(buffer.length, 0, 2);\n  return b;\n}\n\nfunction extractDH(header, mode) {\n  var key = header.privateKey;\n  var senderPubKey, receiverPubKey;\n  if (mode === MODE_ENCRYPT) {\n    senderPubKey = key.getPublicKey();\n    receiverPubKey = header.dh;\n  } else if (mode === MODE_DECRYPT) {\n    senderPubKey = header.dh;\n    receiverPubKey = key.getPublicKey();\n  } else {\n    throw new Error('Unknown mode only ' + MODE_ENCRYPT +\n                    ' and ' + MODE_DECRYPT + ' supported');\n  }\n  return {\n    secret: key.computeSecret(header.dh),\n    context: Buffer.concat([\n      Buffer.from(header.keylabel, 'ascii'),\n      Buffer.from([0]),\n      lengthPrefix(receiverPubKey), // user agent\n      lengthPrefix(senderPubKey)    // application server\n    ])\n  };\n}\n\nfunction extractSecretAndContext(header, mode) {\n  var result = { secret: null, context: new Buffer(0) };\n  if (header.key) {\n    result.secret = header.key;\n    if (result.secret.length !== KEY_LENGTH) {\n      throw new Error('An explicit key must be ' + KEY_LENGTH + ' bytes');\n    }\n  } else if (header.dh) { // receiver/decrypt\n    result = extractDH(header, mode);\n  } else if (typeof header.keyid !== undefined) {\n    result.secret = header.keymap[header.keyid];\n  }\n  if (!result.secret) {\n    throw new Error('Unable to determine key');\n  }\n  keylog('secret', result.secret);\n  keylog('context', result.context);\n  if (header.authSecret) {\n    result.secret = HKDF(header.authSecret, result.secret,\n                         info('auth', new Buffer(0)), SHA_256_LENGTH);\n    keylog('authsecret', result.secret);\n  }\n  return result;\n}\n\nfunction webpushSecret(header, mode) {\n  if (!header.authSecret) {\n    throw new Error('No authentication secret for webpush');\n  }\n  keylog('authsecret', header.authSecret);\n\n  var remotePubKey, senderPubKey, receiverPubKey;\n  if (mode === MODE_ENCRYPT) {\n    senderPubKey = header.privateKey.getPublicKey();\n    remotePubKey = receiverPubKey = header.dh;\n  } else if (mode === MODE_DECRYPT) {\n    remotePubKey = senderPubKey = header.keyid;\n    receiverPubKey = header.privateKey.getPublicKey();\n  } else {\n    throw new Error('Unknown mode only ' + MODE_ENCRYPT +\n                    ' and ' + MODE_DECRYPT + ' supported');\n  }\n  keylog('remote pubkey', remotePubKey);\n  keylog('sender pubkey', senderPubKey);\n  keylog('receiver pubkey', receiverPubKey);\n  return keylog('secret dh',\n                HKDF(header.authSecret,\n                     header.privateKey.computeSecret(remotePubKey),\n                     Buffer.concat([\n                       Buffer.from('WebPush: info\\0'),\n                       receiverPubKey,\n                       senderPubKey\n                     ]),\n                     SHA_256_LENGTH));\n}\n\nfunction extractSecret(header, mode) {\n  if (header.key) {\n    if (header.key.length !== KEY_LENGTH) {\n      throw new Error('An explicit key must be ' + KEY_LENGTH + ' bytes');\n    }\n    return keylog('secret key', header.key);\n  }\n\n  if (!header.privateKey) {\n    // Lookup based on keyid\n    var key = header.keymap && header.keymap[header.keyid];\n    if (!key) {\n      throw new Error('No saved key (keyid: \"' + header.keyid + '\")');\n    }\n    return key;\n  }\n\n  return webpushSecret(header, mode);\n}\n\nfunction deriveKeyAndNonce(header, mode) {\n  if (!header.salt) {\n    throw new Error('must include a salt parameter for ' + header.version);\n  }\n  var keyInfo;\n  var nonceInfo;\n  var secret;\n  if (header.version === 'aesgcm128') {\n    // really old\n    keyInfo = 'Content-Encoding: aesgcm128';\n    nonceInfo = 'Content-Encoding: nonce';\n    secret = extractSecretAndContext(header, mode).secret;\n  } else if (header.version === 'aesgcm') {\n    // old\n    var s = extractSecretAndContext(header, mode);\n    keyInfo = info('aesgcm', s.context);\n    nonceInfo = info('nonce', s.context);\n    secret = s.secret;\n  } else if (header.version === 'aes128gcm') {\n    // latest\n    keyInfo = Buffer.from('Content-Encoding: aes128gcm\\0');\n    nonceInfo = Buffer.from('Content-Encoding: nonce\\0');\n    secret = extractSecret(header, mode);\n  } else {\n    throw new Error('Unable to set context for mode ' + params.version);\n  }\n  var prk = HKDF_extract(header.salt, secret);\n  var result = {\n    key: HKDF_expand(prk, keyInfo, KEY_LENGTH),\n    nonce: HKDF_expand(prk, nonceInfo, NONCE_LENGTH)\n  };\n  keylog('key', result.key);\n  keylog('nonce base', result.nonce);\n  return result;\n}\n\n/* Parse command-line arguments. */\nfunction parseParams(params) {\n  var header = {};\n\n  header.version = params.version || 'aes128gcm';\n  header.rs = parseInt(params.rs, 10);\n  if (isNaN(header.rs)) {\n    header.rs = 4096;\n  }\n  var overhead = PAD_SIZE[header.version];\n  if (header.version === 'aes128gcm') {\n    overhead += TAG_LENGTH;\n  }\n  if (header.rs <= overhead) {\n    throw new Error('The rs parameter has to be greater than ' + overhead);\n  }\n\n  if (params.salt) {\n    header.salt = decode(params.salt);\n    if (header.salt.length !== KEY_LENGTH) {\n      throw new Error('The salt parameter must be ' + KEY_LENGTH + ' bytes');\n    }\n  }\n  header.keyid = params.keyid;\n  if (params.key) {\n    header.key = decode(params.key);\n  } else {\n    header.privateKey = params.privateKey;\n    if (!header.privateKey) {\n      header.keymap = params.keymap;\n    }\n    if (header.version !== 'aes128gcm') {\n      header.keylabel = params.keylabel || 'P-256';\n    }\n    if (params.dh) {\n      header.dh = decode(params.dh);\n    }\n  }\n  if (params.authSecret) {\n    header.authSecret = decode(params.authSecret);\n  }\n  return header;\n}\n\nfunction generateNonce(base, counter) {\n  var nonce = new Buffer(base);\n  var m = nonce.readUIntBE(nonce.length - 6, 6);\n  var x = ((m ^ counter) & 0xffffff) +\n      ((((m / 0x1000000) ^ (counter / 0x1000000)) & 0xffffff) * 0x1000000);\n  nonce.writeUIntBE(x, nonce.length - 6, 6);\n  keylog('nonce' + counter, nonce);\n  return nonce;\n}\n\n/* Used when decrypting aes128gcm to populate the header values. Modifies the\n * header values in place and returns the size of the header. */\nfunction readHeader(buffer, header) {\n  var idsz = buffer.readUIntBE(20, 1);\n  header.salt = buffer.slice(0, KEY_LENGTH);\n  header.rs = buffer.readUIntBE(KEY_LENGTH, 4);\n  header.keyid = buffer.slice(21, 21 + idsz);\n  return 21 + idsz;\n}\n\nfunction unpadLegacy(data, version) {\n  var padSize = PAD_SIZE[version];\n  var pad = data.readUIntBE(0, padSize);\n  if (pad + padSize > data.length) {\n    throw new Error('padding exceeds block size');\n  }\n  keylog('padding', data.slice(0, padSize + pad));\n  var padCheck = new Buffer(pad);\n  padCheck.fill(0);\n  if (padCheck.compare(data.slice(padSize, padSize + pad)) !== 0) {\n    throw new Error('invalid padding');\n  }\n  return data.slice(padSize + pad);\n}\n\nfunction unpad(data, last) {\n  var i = data.length - 1;\n  while(i >= 0) {\n    if (data[i]) {\n      if (last) {\n        if (data[i] !== 2) {\n          throw new Error('last record needs to start padding with a 2');\n        }\n      } else {\n        if (data[i] !== 1) {\n          throw new Error('last record needs to start padding with a 2');\n        }\n      }\n      return data.slice(0, i);\n    }\n    --i;\n  }\n  throw new Error('all zero plaintext');\n}\n\nfunction decryptRecord(key, counter, buffer, header, last) {\n  keylog('decrypt', buffer);\n  var nonce = generateNonce(key.nonce, counter);\n  var gcm = crypto.createDecipheriv(AES_GCM, key.key, nonce);\n  gcm.setAuthTag(buffer.slice(buffer.length - TAG_LENGTH));\n  var data = gcm.update(buffer.slice(0, buffer.length - TAG_LENGTH));\n  data = Buffer.concat([data, gcm.final()]);\n  keylog('decrypted', data);\n  if (header.version !== 'aes128gcm') {\n    return unpadLegacy(data, header.version);\n  }\n  return unpad(data, last);\n}\n\n/**\n * Decrypt some bytes.  This uses the parameters to determine the key and block\n * size, which are described in the draft.  Binary values are base64url encoded.\n *\n * |params.version| contains the version of encoding to use: aes128gcm is the latest,\n * but aesgcm and aesgcm128 are also accepted (though the latter two might\n * disappear in a future release).  If omitted, assume aes128gcm.\n *\n * If |params.key| is specified, that value is used as the key.\n *\n * If the version is aes128gcm, the keyid is extracted from the header and used\n * as the ECDH public key of the sender.  For version aesgcm and aesgcm128,\n * |params.dh| needs to be provided with the public key of the sender.\n *\n * The |params.privateKey| includes the private key of the receiver.\n */\nfunction decrypt(buffer, params) {\n  var header = parseParams(params);\n  if (header.version === 'aes128gcm') {\n    var headerLength = readHeader(buffer, header);\n    buffer = buffer.slice(headerLength);\n  }\n  var key = deriveKeyAndNonce(header, MODE_DECRYPT);\n  var start = 0;\n  var result = new Buffer(0);\n\n  var chunkSize = header.rs;\n  if (header.version !== 'aes128gcm') {\n    chunkSize += TAG_LENGTH;\n  }\n\n  for (var i = 0; start < buffer.length; ++i) {\n    var end = start + chunkSize;\n    if (header.version !== 'aes128gcm' && end === buffer.length) {\n      throw new Error('Truncated payload');\n    }\n    end = Math.min(end, buffer.length);\n    if (end - start <= TAG_LENGTH) {\n      throw new Error('Invalid block: too small at ' + i);\n    }\n    var block = decryptRecord(key, i, buffer.slice(start, end),\n                              header, end >= buffer.length);\n    result = Buffer.concat([result, block]);\n    start = end;\n  }\n  return result;\n}\n\nfunction encryptRecord(key, counter, buffer, pad, header, last) {\n  keylog('encrypt', buffer);\n  pad = pad || 0;\n  var nonce = generateNonce(key.nonce, counter);\n  var gcm = crypto.createCipheriv(AES_GCM, key.key, nonce);\n\n  var ciphertext = [];\n  var padSize = PAD_SIZE[header.version];\n  var padding = new Buffer(pad + padSize);\n  padding.fill(0);\n\n  if (header.version !== 'aes128gcm') {\n    padding.writeUIntBE(pad, 0, padSize);\n    keylog('padding', padding);\n    ciphertext.push(gcm.update(padding));\n    ciphertext.push(gcm.update(buffer));\n\n    if (!last && padding.length + buffer.length < header.rs) {\n      throw new Error('Unable to pad to record size');\n    }\n  } else {\n    ciphertext.push(gcm.update(buffer));\n    padding.writeUIntBE(last ? 2 : 1, 0, 1);\n    keylog('padding', padding);\n    ciphertext.push(gcm.update(padding));\n  }\n\n  gcm.final();\n  var tag = gcm.getAuthTag();\n  if (tag.length !== TAG_LENGTH) {\n    throw new Error('invalid tag generated');\n  }\n  ciphertext.push(tag);\n  return keylog('encrypted', Buffer.concat(ciphertext));\n}\n\nfunction writeHeader(header) {\n  var ints = new Buffer(5);\n  var keyid = Buffer.from(header.keyid || []);\n  if (keyid.length > 255) {\n    throw new Error('keyid is too large');\n  }\n  ints.writeUIntBE(header.rs, 0, 4);\n  ints.writeUIntBE(keyid.length, 4, 1);\n  return Buffer.concat([header.salt, ints, keyid]);\n}\n\n/**\n * Encrypt some bytes.  This uses the parameters to determine the key and block\n * size, which are described in the draft.\n *\n * |params.version| contains the version of encoding to use: aes128gcm is the latest,\n * but aesgcm and aesgcm128 are also accepted (though the latter two might\n * disappear in a future release).  If omitted, assume aes128gcm.\n *\n * If |params.key| is specified, that value is used as the key.\n *\n * For Diffie-Hellman (WebPush), |params.dh| includes the public key of the\n * receiver.  |params.privateKey| is used to establish a shared secret.  Key\n * pairs can be created using |crypto.createECDH()|.\n */\nfunction encrypt(buffer, params) {\n  if (!Buffer.isBuffer(buffer)) {\n    throw new Error('buffer argument must be a Buffer');\n  }\n  var header = parseParams(params);\n  if (!header.salt) {\n    header.salt = crypto.randomBytes(KEY_LENGTH);\n  }\n\n  var result;\n  if (header.version === 'aes128gcm') {\n    // Save the DH public key in the header unless keyid is set.\n    if (header.privateKey && !header.keyid) {\n      header.keyid = header.privateKey.getPublicKey();\n    }\n    result = writeHeader(header);\n  } else {\n    // No header on other versions\n    result = new Buffer(0);\n  }\n\n  var key = deriveKeyAndNonce(header, MODE_ENCRYPT);\n  var start = 0;\n  var padSize = PAD_SIZE[header.version];\n  var overhead = padSize;\n  if (header.version === 'aes128gcm') {\n    overhead += TAG_LENGTH;\n  }\n  var pad = isNaN(parseInt(params.pad, 10)) ? 0 : parseInt(params.pad, 10);\n\n  var counter = 0;\n  var last = false;\n  while (!last) {\n    // Pad so that at least one data byte is in a block.\n    var recordPad = Math.min(header.rs - overhead - 1, pad);\n    if (header.version !== 'aes128gcm') {\n      recordPad = Math.min((1 << (padSize * 8)) - 1, recordPad);\n    }\n    if (pad > 0 && recordPad === 0) {\n      ++recordPad; // Deal with perverse case of rs=overhead+1 with padding.\n    }\n    pad -= recordPad;\n\n    var end = start + header.rs - overhead - recordPad;\n    if (header.version !== 'aes128gcm') {\n      // The > here ensures that we write out a padding-only block at the end\n      // of a buffer.\n      last = end > buffer.length;\n    } else {\n      last = end >= buffer.length;\n    }\n    last = last && pad <= 0;\n    var block = encryptRecord(key, counter, buffer.slice(start, end),\n                              recordPad, header, last);\n    result = Buffer.concat([result, block]);\n\n    start = end;\n    ++counter;\n  }\n  return result;\n}\n\nmodule.exports = {\n  decrypt: decrypt,\n  encrypt: encrypt\n};\n","'use strict';\n\nconst crypto = require('crypto');\nconst ece = require('http_ece');\nconst urlBase64 = require('urlsafe-base64');\n\nconst encrypt = function(userPublicKey, userAuth, payload, contentEncoding) {\n  if (!userPublicKey) {\n    throw new Error('No user public key provided for encryption.');\n  }\n\n  if (typeof userPublicKey !== 'string') {\n    throw new Error('The subscription p256dh value must be a string.');\n  }\n\n  if (urlBase64.decode(userPublicKey).length !== 65) {\n    throw new Error('The subscription p256dh value should be 65 bytes long.');\n  }\n\n  if (!userAuth) {\n    throw new Error('No user auth provided for encryption.');\n  }\n\n  if (typeof userAuth !== 'string') {\n    throw new Error('The subscription auth key must be a string.');\n  }\n\n  if (urlBase64.decode(userAuth).length < 16) {\n    throw new Error('The subscription auth key should be at least 16 '\n    + 'bytes long');\n  }\n\n  if (typeof payload !== 'string' && !Buffer.isBuffer(payload)) {\n    throw new Error('Payload must be either a string or a Node Buffer.');\n  }\n\n  if (typeof payload === 'string' || payload instanceof String) {\n    payload = Buffer.from(payload);\n  }\n\n  const localCurve = crypto.createECDH('prime256v1');\n  const localPublicKey = localCurve.generateKeys();\n\n  const salt = urlBase64.encode(crypto.randomBytes(16));\n\n  const cipherText = ece.encrypt(payload, {\n    version: contentEncoding,\n    dh: userPublicKey,\n    privateKey: localCurve,\n    salt: salt,\n    authSecret: userAuth\n  });\n\n  return {\n    localPublicKey: localPublicKey,\n    salt: salt,\n    cipherText: cipherText\n  };\n};\n\nmodule.exports = {\n  encrypt: encrypt\n};\n","'use strict';\n\nfunction WebPushError(message, statusCode, headers, body, endpoint) {\n  Error.captureStackTrace(this, this.constructor);\n\n  this.name = this.constructor.name;\n  this.message = message;\n  this.statusCode = statusCode;\n  this.headers = headers;\n  this.body = body;\n  this.endpoint = endpoint;\n}\n\nrequire('util').inherits(WebPushError, Error);\n\nmodule.exports = WebPushError;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction promisify(fn) {\n    return function (req, opts) {\n        return new Promise((resolve, reject) => {\n            fn.call(this, req, opts, (err, rtn) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(rtn);\n                }\n            });\n        });\n    };\n}\nexports.default = promisify;\n//# sourceMappingURL=promisify.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst events_1 = require(\"events\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst promisify_1 = __importDefault(require(\"./promisify\"));\nconst debug = debug_1.default('agent-base');\nfunction isAgent(v) {\n    return Boolean(v) && typeof v.addRequest === 'function';\n}\nfunction isSecureEndpoint() {\n    const { stack } = new Error();\n    if (typeof stack !== 'string')\n        return false;\n    return stack.split('\\n').some(l => l.indexOf('(https.js:') !== -1 || l.indexOf('node:https:') !== -1);\n}\nfunction createAgent(callback, opts) {\n    return new createAgent.Agent(callback, opts);\n}\n(function (createAgent) {\n    /**\n     * Base `http.Agent` implementation.\n     * No pooling/keep-alive is implemented by default.\n     *\n     * @param {Function} callback\n     * @api public\n     */\n    class Agent extends events_1.EventEmitter {\n        constructor(callback, _opts) {\n            super();\n            let opts = _opts;\n            if (typeof callback === 'function') {\n                this.callback = callback;\n            }\n            else if (callback) {\n                opts = callback;\n            }\n            // Timeout for the socket to be returned from the callback\n            this.timeout = null;\n            if (opts && typeof opts.timeout === 'number') {\n                this.timeout = opts.timeout;\n            }\n            // These aren't actually used by `agent-base`, but are required\n            // for the TypeScript definition files in `@types/node` :/\n            this.maxFreeSockets = 1;\n            this.maxSockets = 1;\n            this.maxTotalSockets = Infinity;\n            this.sockets = {};\n            this.freeSockets = {};\n            this.requests = {};\n            this.options = {};\n        }\n        get defaultPort() {\n            if (typeof this.explicitDefaultPort === 'number') {\n                return this.explicitDefaultPort;\n            }\n            return isSecureEndpoint() ? 443 : 80;\n        }\n        set defaultPort(v) {\n            this.explicitDefaultPort = v;\n        }\n        get protocol() {\n            if (typeof this.explicitProtocol === 'string') {\n                return this.explicitProtocol;\n            }\n            return isSecureEndpoint() ? 'https:' : 'http:';\n        }\n        set protocol(v) {\n            this.explicitProtocol = v;\n        }\n        callback(req, opts, fn) {\n            throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`');\n        }\n        /**\n         * Called by node-core's \"_http_client.js\" module when creating\n         * a new HTTP request with this Agent instance.\n         *\n         * @api public\n         */\n        addRequest(req, _opts) {\n            const opts = Object.assign({}, _opts);\n            if (typeof opts.secureEndpoint !== 'boolean') {\n                opts.secureEndpoint = isSecureEndpoint();\n            }\n            if (opts.host == null) {\n                opts.host = 'localhost';\n            }\n            if (opts.port == null) {\n                opts.port = opts.secureEndpoint ? 443 : 80;\n            }\n            if (opts.protocol == null) {\n                opts.protocol = opts.secureEndpoint ? 'https:' : 'http:';\n            }\n            if (opts.host && opts.path) {\n                // If both a `host` and `path` are specified then it's most\n                // likely the result of a `url.parse()` call... we need to\n                // remove the `path` portion so that `net.connect()` doesn't\n                // attempt to open that as a unix socket file.\n                delete opts.path;\n            }\n            delete opts.agent;\n            delete opts.hostname;\n            delete opts._defaultAgent;\n            delete opts.defaultPort;\n            delete opts.createConnection;\n            // Hint to use \"Connection: close\"\n            // XXX: non-documented `http` module API :(\n            req._last = true;\n            req.shouldKeepAlive = false;\n            let timedOut = false;\n            let timeoutId = null;\n            const timeoutMs = opts.timeout || this.timeout;\n            const onerror = (err) => {\n                if (req._hadError)\n                    return;\n                req.emit('error', err);\n                // For Safety. Some additional errors might fire later on\n                // and we need to make sure we don't double-fire the error event.\n                req._hadError = true;\n            };\n            const ontimeout = () => {\n                timeoutId = null;\n                timedOut = true;\n                const err = new Error(`A \"socket\" was not created for HTTP request before ${timeoutMs}ms`);\n                err.code = 'ETIMEOUT';\n                onerror(err);\n            };\n            const callbackError = (err) => {\n                if (timedOut)\n                    return;\n                if (timeoutId !== null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                onerror(err);\n            };\n            const onsocket = (socket) => {\n                if (timedOut)\n                    return;\n                if (timeoutId != null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                if (isAgent(socket)) {\n                    // `socket` is actually an `http.Agent` instance, so\n                    // relinquish responsibility for this `req` to the Agent\n                    // from here on\n                    debug('Callback returned another Agent instance %o', socket.constructor.name);\n                    socket.addRequest(req, opts);\n                    return;\n                }\n                if (socket) {\n                    socket.once('free', () => {\n                        this.freeSocket(socket, opts);\n                    });\n                    req.onSocket(socket);\n                    return;\n                }\n                const err = new Error(`no Duplex stream was returned to agent-base for \\`${req.method} ${req.path}\\``);\n                onerror(err);\n            };\n            if (typeof this.callback !== 'function') {\n                onerror(new Error('`callback` is not defined'));\n                return;\n            }\n            if (!this.promisifiedCallback) {\n                if (this.callback.length >= 3) {\n                    debug('Converting legacy callback function to promise');\n                    this.promisifiedCallback = promisify_1.default(this.callback);\n                }\n                else {\n                    this.promisifiedCallback = this.callback;\n                }\n            }\n            if (typeof timeoutMs === 'number' && timeoutMs > 0) {\n                timeoutId = setTimeout(ontimeout, timeoutMs);\n            }\n            if ('port' in opts && typeof opts.port !== 'number') {\n                opts.port = Number(opts.port);\n            }\n            try {\n                debug('Resolving socket for %o request: %o', opts.protocol, `${req.method} ${req.path}`);\n                Promise.resolve(this.promisifiedCallback(req, opts)).then(onsocket, callbackError);\n            }\n            catch (err) {\n                Promise.reject(err).catch(callbackError);\n            }\n        }\n        freeSocket(socket, opts) {\n            debug('Freeing socket %o %o', socket.constructor.name, opts);\n            socket.destroy();\n        }\n        destroy() {\n            debug('Destroying agent %o', this.constructor.name);\n        }\n    }\n    createAgent.Agent = Agent;\n    // So that `instanceof` works correctly\n    createAgent.prototype = createAgent.Agent.prototype;\n})(createAgent || (createAgent = {}));\nmodule.exports = createAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = debug_1.default('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('close', onclose);\n            socket.removeListener('readable', read);\n        }\n        function onclose(err) {\n            debug('onclose had error %o', err);\n        }\n        function onend() {\n            debug('onend');\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const firstLine = buffered.toString('ascii', 0, buffered.indexOf('\\r\\n'));\n            const statusCode = +firstLine.split(' ')[1];\n            debug('got proxy server response: %o', firstLine);\n            resolve({\n                statusCode,\n                buffered\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('close', onclose);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.default = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst parse_proxy_response_1 = __importDefault(require(\"./parse-proxy-response\"));\nconst debug = debug_1.default('https-proxy-agent:agent');\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n *\n * @api public\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('creating new HttpsProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        // ALPN is supported by Node.js >= v5.\n        // attempt to negotiate http/1.1 for proxy servers that support http/2\n        if (this.secureProxy && !('ALPNProtocols' in proxy)) {\n            proxy.ALPNProtocols = ['http 1.1'];\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            const headers = Object.assign({}, proxy.headers);\n            const hostname = `${opts.host}:${opts.port}`;\n            let payload = `CONNECT ${hostname} HTTP/1.1\\r\\n`;\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                headers['Proxy-Authorization'] = `Basic ${Buffer.from(proxy.auth).toString('base64')}`;\n            }\n            // The `Host` header should only include the port\n            // number when it is not the default port.\n            let { host, port, secureEndpoint } = opts;\n            if (!isDefaultPort(port, secureEndpoint)) {\n                host += `:${port}`;\n            }\n            headers.Host = host;\n            headers.Connection = 'close';\n            for (const name of Object.keys(headers)) {\n                payload += `${name}: ${headers[name]}\\r\\n`;\n            }\n            const proxyResponsePromise = parse_proxy_response_1.default(socket);\n            socket.write(`${payload}\\r\\n`);\n            const { statusCode, buffered } = yield proxyResponsePromise;\n            if (statusCode === 200) {\n                req.once('socket', resume);\n                if (opts.secureEndpoint) {\n                    const servername = opts.servername || opts.host;\n                    if (!servername) {\n                        throw new Error('Could not determine \"servername\"');\n                    }\n                    // The proxy is connecting to a TLS server, so upgrade\n                    // this socket connection to a TLS connection.\n                    debug('Upgrading socket connection to TLS');\n                    return tls_1.default.connect(Object.assign(Object.assign({}, omit(opts, 'host', 'hostname', 'path', 'port')), { socket,\n                        servername }));\n                }\n                return socket;\n            }\n            // Some other status code that's not 200... need to re-play the HTTP\n            // header \"data\" events onto the socket once the HTTP machinery is\n            // attached so that the node core `http` can parse and handle the\n            // error status code.\n            // Close the original socket, and a new \"fake\" socket is returned\n            // instead, so that the proxy doesn't get the HTTP request\n            // written to it (which may contain `Authorization` headers or other\n            // sensitive data).\n            //\n            // See: https://hackerone.com/reports/541502\n            socket.destroy();\n            const fakeSocket = new net_1.default.Socket();\n            fakeSocket.readable = true;\n            // Need to wait for the \"socket\" event to re-play the \"data\" events.\n            req.once('socket', (s) => {\n                debug('replaying proxy buffer for failed request');\n                assert_1.default(s.listenerCount('data') > 0);\n                // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n                // this point the HTTP module machinery has been hooked up for\n                // the user.\n                s.push(buffered);\n                s.push(null);\n            });\n            return fakeSocket;\n        });\n    }\n}\nexports.default = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction isDefaultPort(port, secure) {\n    return Boolean((!secure && port === 80) || (secure && port === 443));\n}\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpsProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpsProxyAgent) {\n    createHttpsProxyAgent.HttpsProxyAgent = agent_1.default;\n    createHttpsProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpsProxyAgent || (createHttpsProxyAgent = {}));\nmodule.exports = createHttpsProxyAgent;\n//# sourceMappingURL=index.js.map","'use strict';\n\nconst urlBase64 = require('urlsafe-base64');\nconst url = require('url');\nconst https = require('https');\n\nconst WebPushError = require('./web-push-error.js');\nconst vapidHelper = require('./vapid-helper.js');\nconst encryptionHelper = require('./encryption-helper.js');\nconst webPushConstants = require('./web-push-constants.js');\n\n// Default TTL is four weeks.\nconst DEFAULT_TTL = 2419200;\n\nlet gcmAPIKey = '';\nlet vapidDetails;\n\nfunction WebPushLib() {\n\n}\n\n/**\n * When sending messages to a GCM endpoint you need to set the GCM API key\n * by either calling setGMAPIKey() or passing in the API key as an option\n * to sendNotification().\n * @param  {string} apiKey The API key to send with the GCM request.\n */\nWebPushLib.prototype.setGCMAPIKey = function(apiKey) {\n  if (apiKey === null) {\n    gcmAPIKey = null;\n    return;\n  }\n\n  if (typeof apiKey === 'undefined'\n  || typeof apiKey !== 'string'\n  || apiKey.length === 0) {\n    throw new Error('The GCM API Key should be a non-empty string or null.');\n  }\n\n  gcmAPIKey = apiKey;\n};\n\n/**\n * When making requests where you want to define VAPID details, call this\n * method before sendNotification() or pass in the details and options to\n * sendNotification.\n * @param  {string} subject    This must be either a URL or a 'mailto:'\n * address. For example: 'https://my-site.com/contact' or\n * 'mailto: contact@my-site.com'\n * @param  {string} publicKey  The public VAPID key, a URL safe, base64 encoded string\n * @param  {string} privateKey The private VAPID key, a URL safe, base64 encoded string.\n */\nWebPushLib.prototype.setVapidDetails = function(subject, publicKey, privateKey) {\n    if (arguments.length === 1 && arguments[0] === null) {\n      vapidDetails = null;\n      return;\n    }\n\n    vapidHelper.validateSubject(subject);\n    vapidHelper.validatePublicKey(publicKey);\n    vapidHelper.validatePrivateKey(privateKey);\n\n    vapidDetails = {\n      subject: subject,\n      publicKey: publicKey,\n      privateKey: privateKey\n    };\n  };\n\n  /**\n   * To get the details of a request to trigger a push message, without sending\n   * a push notification call this method.\n   *\n   * This method will throw an error if there is an issue with the input.\n   * @param  {PushSubscription} subscription The PushSubscription you wish to\n   * send the notification to.\n   * @param  {string|Buffer} [payload]       The payload you wish to send to the\n   * the user.\n   * @param  {Object} [options]              Options for the GCM API key and\n   * vapid keys can be passed in if they are unique for each notification you\n   * wish to send.\n   * @return {Object}                       This method returns an Object which\n   * contains 'endpoint', 'method', 'headers' and 'payload'.\n   */\nWebPushLib.prototype.generateRequestDetails = function(subscription, payload, options) {\n    if (!subscription || !subscription.endpoint) {\n      throw new Error('You must pass in a subscription with at least '\n      + 'an endpoint.');\n    }\n\n    if (typeof subscription.endpoint !== 'string'\n    || subscription.endpoint.length === 0) {\n      throw new Error('The subscription endpoint must be a string with '\n      + 'a valid URL.');\n    }\n\n    if (payload) {\n      // Validate the subscription keys\n      if (typeof subscription !== 'object' || !subscription.keys\n      || !subscription.keys.p256dh\n      || !subscription.keys.auth) {\n        throw new Error('To send a message with a payload, the '\n        + 'subscription must have \\'auth\\' and \\'p256dh\\' keys.');\n      }\n    }\n\n    let currentGCMAPIKey = gcmAPIKey;\n    let currentVapidDetails = vapidDetails;\n    let timeToLive = DEFAULT_TTL;\n    let extraHeaders = {};\n    let contentEncoding = webPushConstants.supportedContentEncodings.AES_128_GCM;\n    let proxy;\n    let agent;\n    let timeout;\n\n    if (options) {\n      const validOptionKeys = [\n        'headers',\n        'gcmAPIKey',\n        'vapidDetails',\n        'TTL',\n        'contentEncoding',\n        'proxy',\n        'agent',\n        'timeout'\n      ];\n      const optionKeys = Object.keys(options);\n      for (let i = 0; i < optionKeys.length; i += 1) {\n        const optionKey = optionKeys[i];\n        if (validOptionKeys.indexOf(optionKey) === -1) {\n          throw new Error('\\'' + optionKey + '\\' is an invalid option. '\n          + 'The valid options are [\\'' + validOptionKeys.join('\\', \\'')\n          + '\\'].');\n        }\n      }\n\n      if (options.headers) {\n        extraHeaders = options.headers;\n        let duplicates = Object.keys(extraHeaders)\n            .filter(function (header) {\n              return typeof options[header] !== 'undefined';\n            });\n\n        if (duplicates.length > 0) {\n          throw new Error('Duplicated headers defined ['\n          + duplicates.join(',') + ']. Please either define the header in the'\n          + 'top level options OR in the \\'headers\\' key.');\n        }\n      }\n\n      if (options.gcmAPIKey) {\n        currentGCMAPIKey = options.gcmAPIKey;\n      }\n\n      // Falsy values are allowed here so one can skip Vapid `else if` below and use FCM\n      if (options.vapidDetails !== undefined) {\n        currentVapidDetails = options.vapidDetails;\n      }\n\n      if (options.TTL !== undefined) {\n        timeToLive = Number(options.TTL);\n        if (timeToLive < 0) {\n          throw new Error('TTL should be a number and should be at least 0');\n        }\n      }\n\n      if (options.contentEncoding) {\n        if ((options.contentEncoding === webPushConstants.supportedContentEncodings.AES_128_GCM\n          || options.contentEncoding === webPushConstants.supportedContentEncodings.AES_GCM)) {\n          contentEncoding = options.contentEncoding;\n        } else {\n          throw new Error('Unsupported content encoding specified.');\n        }\n      }\n\n      if (options.proxy) {\n        if (typeof options.proxy === 'string'\n          || typeof options.proxy.host === 'string') {\n          proxy = options.proxy;\n        } else {\n          console.warn('Attempt to use proxy option, but invalid type it should be a string or proxy options object.');\n        }\n      }\n\n      if (options.agent) {\n        if (options.agent instanceof https.Agent) {\n          if (proxy) {\n            console.warn('Agent option will be ignored because proxy option is defined.');\n          }\n\n          agent = options.agent;\n        } else {\n          console.warn('Wrong type for the agent option, it should be an instance of https.Agent.');\n        }\n      }\n\n      if (typeof options.timeout === 'number') {\n        timeout = options.timeout;\n      }\n    }\n\n    if (typeof timeToLive === 'undefined') {\n      timeToLive = DEFAULT_TTL;\n    }\n\n    const requestDetails = {\n      method: 'POST',\n      headers: {\n        TTL: timeToLive\n      }\n    };\n    Object.keys(extraHeaders).forEach(function (header) {\n      requestDetails.headers[header] = extraHeaders[header];\n    });\n    let requestPayload = null;\n\n    if (payload) {\n      const encrypted = encryptionHelper\n        .encrypt(subscription.keys.p256dh, subscription.keys.auth, payload, contentEncoding);\n\n      requestDetails.headers['Content-Length'] = encrypted.cipherText.length;\n      requestDetails.headers['Content-Type'] = 'application/octet-stream';\n\n      if (contentEncoding === webPushConstants.supportedContentEncodings.AES_128_GCM) {\n        requestDetails.headers['Content-Encoding'] = webPushConstants.supportedContentEncodings.AES_128_GCM;\n      } else if (contentEncoding === webPushConstants.supportedContentEncodings.AES_GCM) {\n        requestDetails.headers['Content-Encoding'] = webPushConstants.supportedContentEncodings.AES_GCM;\n        requestDetails.headers.Encryption = 'salt=' + encrypted.salt;\n        requestDetails.headers['Crypto-Key'] = 'dh=' + urlBase64.encode(encrypted.localPublicKey);\n      }\n\n      requestPayload = encrypted.cipherText;\n    } else {\n      requestDetails.headers['Content-Length'] = 0;\n    }\n\n    const isGCM = subscription.endpoint.indexOf('https://android.googleapis.com/gcm/send') === 0;\n    const isFCM = subscription.endpoint.indexOf('https://fcm.googleapis.com/fcm/send') === 0;\n    // VAPID isn't supported by GCM hence the if, else if.\n    if (isGCM) {\n      if (!currentGCMAPIKey) {\n        console.warn('Attempt to send push notification to GCM endpoint, '\n        + 'but no GCM key is defined. Please use setGCMApiKey() or add '\n        + '\\'gcmAPIKey\\' as an option.');\n      } else {\n        requestDetails.headers.Authorization = 'key=' + currentGCMAPIKey;\n      }\n    } else if (currentVapidDetails) {\n      const parsedUrl = url.parse(subscription.endpoint);\n      const audience = parsedUrl.protocol + '//'\n      + parsedUrl.host;\n\n      const vapidHeaders = vapidHelper.getVapidHeaders(\n        audience,\n        currentVapidDetails.subject,\n        currentVapidDetails.publicKey,\n        currentVapidDetails.privateKey,\n        contentEncoding\n      );\n\n      requestDetails.headers.Authorization = vapidHeaders.Authorization;\n\n      if (contentEncoding === webPushConstants.supportedContentEncodings.AES_GCM) {\n        if (requestDetails.headers['Crypto-Key']) {\n          requestDetails.headers['Crypto-Key'] += ';'\n          + vapidHeaders['Crypto-Key'];\n        } else {\n          requestDetails.headers['Crypto-Key'] = vapidHeaders['Crypto-Key'];\n        }\n      }\n    } else if (isFCM && currentGCMAPIKey) {\n      requestDetails.headers.Authorization = 'key=' + currentGCMAPIKey;\n    }\n\n    requestDetails.body = requestPayload;\n    requestDetails.endpoint = subscription.endpoint;\n\n    if (proxy) {\n      requestDetails.proxy = proxy;\n    }\n\n    if (agent) {\n      requestDetails.agent = agent;\n    }\n\n    if (timeout) {\n      requestDetails.timeout = timeout;\n    }\n\n    return requestDetails;\n  };\n\n/**\n * To send a push notification call this method with a subscription, optional\n * payload and any options.\n * @param  {PushSubscription} subscription The PushSubscription you wish to\n * send the notification to.\n * @param  {string|Buffer} [payload]       The payload you wish to send to the\n * the user.\n * @param  {Object} [options]              Options for the GCM API key and\n * vapid keys can be passed in if they are unique for each notification you\n * wish to send.\n * @return {Promise}                       This method returns a Promise which\n * resolves if the sending of the notification was successful, otherwise it\n * rejects.\n */\nWebPushLib.prototype.sendNotification = function(subscription, payload, options) {\n    let requestDetails;\n    try {\n      requestDetails = this.generateRequestDetails(subscription, payload, options);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n\n    return new Promise(function(resolve, reject) {\n      const httpsOptions = {};\n      const urlParts = url.parse(requestDetails.endpoint);\n      httpsOptions.hostname = urlParts.hostname;\n      httpsOptions.port = urlParts.port;\n      httpsOptions.path = urlParts.path;\n\n      httpsOptions.headers = requestDetails.headers;\n      httpsOptions.method = requestDetails.method;\n\n      if (requestDetails.timeout) {\n        httpsOptions.timeout = requestDetails.timeout;\n      }\n\n      if (requestDetails.agent) {\n        httpsOptions.agent = requestDetails.agent;\n      }\n\n      if (requestDetails.proxy) {\n        const HttpsProxyAgent = require('https-proxy-agent'); // eslint-disable-line global-require\n        httpsOptions.agent = new HttpsProxyAgent(requestDetails.proxy);\n      }\n\n      const pushRequest = https.request(httpsOptions, function(pushResponse) {\n        let responseText = '';\n\n        pushResponse.on('data', function(chunk) {\n          responseText += chunk;\n        });\n\n        pushResponse.on('end', function() {\n          if (pushResponse.statusCode < 200 || pushResponse.statusCode > 299) {\n            reject(new WebPushError(\n              'Received unexpected response code',\n              pushResponse.statusCode, pushResponse.headers, responseText, requestDetails.endpoint\n            ));\n          } else {\n            resolve({\n              statusCode: pushResponse.statusCode,\n              body: responseText,\n              headers: pushResponse.headers\n            });\n          }\n        });\n      });\n\n      if (requestDetails.timeout) {\n        pushRequest.on('timeout', function() {\n          pushRequest.destroy(new Error('Socket timeout'));\n        });\n      }\n\n      pushRequest.on('error', function(e) {\n        reject(e);\n      });\n\n      if (requestDetails.body) {\n        pushRequest.write(requestDetails.body);\n      }\n\n      pushRequest.end();\n    });\n  };\n\nmodule.exports = WebPushLib;\n","'use strict';\n\nconst vapidHelper = require('./vapid-helper.js');\nconst encryptionHelper = require('./encryption-helper.js');\nconst WebPushLib = require('./web-push-lib.js');\nconst WebPushError = require('./web-push-error.js');\nconst WebPushConstants = require('./web-push-constants.js');\n\nconst webPush = new WebPushLib();\n\nmodule.exports = {\n  WebPushError: WebPushError,\n  supportedContentEncodings: WebPushConstants.supportedContentEncodings,\n  encrypt: encryptionHelper.encrypt,\n  getVapidHeaders: vapidHelper.getVapidHeaders,\n  generateVAPIDKeys: vapidHelper.generateVAPIDKeys,\n  setGCMAPIKey: webPush.setGCMAPIKey,\n  setVapidDetails: webPush.setVapidDetails,\n  generateRequestDetails: webPush.generateRequestDetails,\n  sendNotification: webPush.sendNotification\n};\n","// import jwt from \"@tsndr/cloudflare-worker-jwt\";\r\nimport webpush from 'web-push';\r\n\r\nconst corsHeaders = {\r\n  \"content-type\": \"application/json;charset=UTF-8\",\r\n  \"Access-Control-Allow-Origin\": \"*\",\r\n  \"Access-Control-Allow-Methods\": \"GET,HEAD,POST,OPTIONS\",\r\n  \"Access-Control-Allow-Headers\": \"*\",\r\n}\r\nvar publicVapidKey = 'BHNDnILTEvKcwYFfIhyOGoxecSf4wjoIEL-8EbyO-0scqnrCwNjR5uEPpz4utoAXjucSizX2Fa8VNgsIwMF5HF0';\r\nvar privateVapidKey  = 'zyCG8N9os8-3qMEmeVWt2gBd3c1-bbpaI1MXfEWTg_o';\r\n// Worker\r\nexport default {\r\n  async fetch(request, env) {\r\n    webpush.setVapidDetails(\r\n      'mailto:sniderwebdev@gmail.com',\r\n      publicVapidKey,\r\n      privateVapidKey,\r\n    );\r\n    return await handleRequest(request, env);\r\n  }\r\n}\r\nasync function handleRequest(request, env) {\r\n  try {\r\n    let id = env.PEOPLE.idFromName(\"Meeting Hall\");\r\n    let obj = env.PEOPLE.get(id);\r\n    const upgradeHeader = request.headers.get(\"Upgrade\")\r\n    if (!upgradeHeader || upgradeHeader !== \"websocket\") {\r\n      if(request.headers.get(\"Notifications\")){\r\n        if (request.method.toUpperCase() === \"POST\") {\r\n          let response = await obj.HandleNotificationSubscription(request);\r\n          return response;\r\n        }\r\n        if (request.method.toUpperCase() === \"GET\") {\r\n          let response = await obj.HandleNotificationBroadcast(request);\r\n          return response;\r\n        }\r\n      }\r\n      return new Response(\"Expected Upgrade: websocket\", { status: 426 })\r\n    }\r\n    let response = await obj.fetch(request);\r\n    return response;\r\n  } catch(error) {\r\n    return new Response(error.message, {\r\n      status: 200,\r\n    })\r\n  }\r\n}\r\n// Durable Object\r\nexport class People {\r\n  constructor(state, env) {\r\n    this.state = state;\r\n    this.sessions =  [];\r\n    this.people = {};\r\n    this.positions = {};\r\n    this.stats = {};\r\n    this.structures = {};\r\n    this.chat_messages = [];\r\n    this.subscriptions = [];\r\n    this.state.blockConcurrencyWhile(async () => {\r\n        let stored_structures= await this.state.storage.get(\"structures\");\r\n        this.structures = stored_structures || {};\r\n        let stored_stats= await this.state.storage.get(\"stats\");\r\n        this.stats = stored_stats || {};\r\n        let stored_positions= await this.state.storage.get(\"positions\");\r\n        this.positions = stored_positions || [];\r\n        let chat_messages_stored = await this.state.storage.get(\"chat_messages\");\r\n        this.chat_messages = chat_messages_stored || [];\r\n\r\n        let subscriptions_stored = await this.state.storage.get(\"subscriptions\");\r\n        this.subscriptions = subscriptions_stored || [];\r\n    })\r\n  }\r\n  async HandleNotificationSubscription(request) {\r\n    const subscription = JSON.stringify(await request.json())\r\n    this.subscriptions.push(subscription);\r\n    await this.state.storage.put(\"subscriptions\", this.subscriptions);\r\n    return new Response(\"You have been subscribed\", { status: 200 })\r\n  }\r\n  async HandleNotificationBroadcast(request) {\r\n    try {\r\n      const notification = { title: 'Hey, this is a push notification!' };\r\n      this.subscriptions.forEach((subscription) => {\r\n        webpush.sendNotification(subscription, JSON.stringify(notification))\r\n      });\r\n      return new Response(\"Message Sent!\", { status: 200 })\r\n    } catch (e) {\r\n      return new Response(e.message, { status: 200 })\r\n    }\r\n  }\r\n  // Handle HTTP requests from clients.\r\n  async fetch(request) {\r\n\r\n    const webSocketPair = new WebSocketPair()\r\n    const [client, server] = Object.values(webSocketPair)\r\n    let webSocket = server\r\n    webSocket.accept()\r\n    let session = {webSocket};\r\n    let receivedUserInfo = false;\r\n    this.sessions.push(session);\r\n    webSocket.addEventListener(\"message\", async msg => {\r\n      if (session.quit) {\r\n        webSocket.close(1011, \"WebSocket broken.\");\r\n        delete this.people[session.uid];\r\n        return;\r\n      }\r\n      let data = JSON.parse(msg.data);\r\n      if(!receivedUserInfo){\r\n        session.name = \"\" + (data.name || \"anonymous\");\r\n        session.uid = data.uid;\r\n        if(!this.positions[data.uid]) {\r\n          this.positions[data.uid] = {\r\n            x: Math.random() * (500 - -500) + -500,\r\n            y: Math.random() * (500 - -500) + -500,\r\n          }\r\n        }\r\n        if(!this.stats[data.uid]) {\r\n          this.stats[data.uid] = {\r\n            name: data.name,\r\n            structures: {\r\n              built: 0,\r\n              destroyed: 0,\r\n            },\r\n            kills: [],\r\n            deaths: [],\r\n          };\r\n        }\r\n        data.position = this.positions[data.uid];\r\n        //await this.state.storage.put(\"stats\", this.stats);\r\n        this.people[data.uid] = data;\r\n        this.broadcast(JSON.stringify({joined: data}));\r\n        webSocket.send(JSON.stringify({people: this.people}));\r\n        webSocket.send(JSON.stringify({structures: this.structures}));\r\n        webSocket.send(JSON.stringify({stats_update: this.stats}));\r\n        webSocket.send(JSON.stringify({chat_messages: this.chat_messages}));\r\n        receivedUserInfo = true;\r\n        return new Response(null, {\r\n          status: 101,\r\n          webSocket: client\r\n        })\r\n      }\r\n      if(data.chat_message) {\r\n        this.broadcast(JSON.stringify({chat_message:data.chat_message}),session.uid);\r\n        this.chat_messages.push(data.chat_message);\r\n        if(this.chat_messages.length > 100) this.chat_messages.shift();\r\n        return;\r\n      }\r\n      if(data.update_position) {\r\n        this.people[data.update_position.uid].position = data.update_position.position;\r\n        this.positions[data.update_position.uid] = data.update_position.position;\r\n        this.broadcast(JSON.stringify(data));\r\n        return;\r\n      }\r\n      if(data.build_structure) {\r\n        let structure = {\r\n          uid: data.build_structure.uid,\r\n          player: data.build_structure.player_uid,\r\n          pos: data.build_structure.pos,\r\n        };\r\n        this.structures[structure.uid] = structure;\r\n        this.stats[data.build_structure.player_uid].structures.built = this.stats[data.build_structure.player_uid].structures.built + 1;\r\n        this.broadcast(JSON.stringify({add_structure:structure}),session.uid);\r\n        this.broadcast(JSON.stringify({stats_update:this.stats}));\r\n        await this.state.storage.put(\"structures\", this.structures);\r\n        return;\r\n      }\r\n      if(data.destroy_structure) {\r\n        delete this.structures[data.destroy_structure.uid];\r\n        this.stats[data.destroy_structure.player_uid].structures.destroyed = this.stats[data.destroy_structure.player_uid].structures.destroyed + 1;\r\n        this.broadcast(JSON.stringify({destroy_structure:data.destroy_structure}),session.uid);\r\n        this.broadcast(JSON.stringify({stats_update:this.stats}));\r\n        await this.state.storage.put(\"structures\", this.structures);\r\n        return;\r\n      }\r\n      if(data.build_bullet) {\r\n        let bullet = {\r\n          uid: data.build_bullet.uid,\r\n          player_uid: data.build_bullet.player_uid,\r\n          player_uid: data.build_bullet.player_uid,\r\n          pos: data.build_bullet.pos,\r\n          move: data.build_bullet.move,\r\n        };\r\n        this.broadcast(JSON.stringify({add_bullet:bullet}),session.uid);\r\n        return;\r\n      }\r\n      if(data.player_hit) {\r\n        let shooter = data.player_hit.shooter;\r\n        let hit = data.player_hit.hit;\r\n        let kill =  {\r\n          timestampe: Date.now(),\r\n          player: hit.uid,\r\n        }\r\n        this.stats[shooter.uid].kills.push(kill)\r\n        this.stats[hit.uid].deaths.push(kill)\r\n        this.broadcast(JSON.stringify({kill:data.player_hit}));\r\n        this.broadcast(JSON.stringify({stats_update:this.stats}));\r\n        this.positions[hit.uid] = {\r\n          x: Math.random() * (500 - -500) + -500,\r\n          y: Math.random() * (500 - -500) + -500,\r\n        }\r\n        await this.state.storage.put(\"stats\", this.stats);\r\n        return;\r\n      }\r\n      if(data.respawn) {\r\n        this.positions[data.respawn.uid] = {\r\n          x: Math.random() * (500 - -500) + -500,\r\n          y: Math.random() * (500 - -500) + -500,\r\n        }\r\n        data.respawn.position = this.positions[data.respawn.uid];\r\n        data.respawn.unfreeze = true;\r\n        this.broadcast(JSON.stringify({respawn: data.respawn}));\r\n        return;\r\n      }\r\n\r\n      data = { name: session.name, message: \"\" + data.message };\r\n      data.timestamp = Math.max(Date.now(), this.lastTimestamp + 1);\r\n      this.lastTimestamp = data.timestamp;\r\n      let dataStr = JSON.stringify(data);\r\n      this.broadcast(dataStr);\r\n    })\r\n    let closeOrErrorHandler = async (evt) => {\r\n      await this.state.storage.put(\"structures\", this.structures);\r\n      await this.state.storage.put(\"stats\", this.stats);\r\n      await this.state.storage.put(\"positions\", this.positions);\r\n      await this.state.storage.put(\"chat_messages\", this.chat_messages);\r\n      session.quit = true;\r\n      this.sessions = this.sessions.filter(member => member !== session);\r\n      if (session.name) {\r\n        this.stats[session.uid].name = session.name;\r\n        this.broadcast(JSON.stringify({quit: session}));\r\n        delete this.people[session.uid];\r\n      }\r\n    };\r\n    webSocket.addEventListener(\"close\", closeOrErrorHandler);\r\n    webSocket.addEventListener(\"error\", closeOrErrorHandler);\r\n    return new Response(null, {\r\n      // headers: {\r\n      //   \"ERRORLOG\": auth_email\r\n      // },\r\n      status: 101,\r\n      webSocket: client\r\n    })\r\n  }\r\n  broadcast(message,others = false) {\r\n    if (typeof message !== \"string\") {\r\n      message = JSON.stringify(message);\r\n    }\r\n    let quitters = [];\r\n    this.sessions = this.sessions.filter(session => {\r\n      try {\r\n        if(others && session.uid != others) {\r\n          session.webSocket.send(message);\r\n        }\r\n        if(!others) {\r\n          session.webSocket.send(message);\r\n        }\r\n        return true;\r\n      } catch (err) {\r\n        session.quit = true;\r\n        quitters.push(session);\r\n        return false;\r\n      }\r\n    });\r\n    quitters.forEach(quitter => {\r\n      this.broadcast({quit: quitter});\r\n    });\r\n  }\r\n\r\n}\r\n"],"names":["buffer","toString","replace","base64","Array","length","join","Buffer","test","require$$0","key","module","exports","assert","val","msg","Error","inherits","ctor","superCtor","super_","TempCtor","prototype","constructor","BN","number","base","endian","isBN","this","negative","words","red","_init","wordSize","window","e","parseHex4Bits","string","index","c","charCodeAt","parseHexByte","lowerBound","r","parseBase","str","start","end","mul","len","Math","min","i","num","isArray","max","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","toArray","ceil","j","w","off","strip","limbLen","limbPow","total","mod","word","imuln","_iaddn","pow","copy","dest","clone","_expand","size","_normSign","inspect","zeros","groupSizes","groupBases","smallMulTo","self","out","a","b","lo","carry","k","ncarry","rword","maxJ","padding","groupSize","groupBase","isZero","modn","idivn","toNumber","ret","toJSON","toBuffer","toArrayLike","ArrayType","byteLength","reqLength","littleEndian","res","q","andln","iushrn","clz32","_countBits","t","_zeroBits","bitLength","hi","zeroBits","toTwos","width","abs","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","sub","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","jumboMulTo","FFTM","mulp","x","y","mulTo","hncarry","bigMulTo","makeRBT","N","l","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","s","rtwdf","cos","PI","itwdf","sin","p","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","n","m","odd","conjugate","normalize13b","ws","round","convert13b","stub","ph","_","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","muln","sqr","isqr","toBitArray","iushln","bits","carryMask","newCarry","ishln","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","shift","_wordDiv","mode","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","acc","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","name","tmp","_tmp","K256","call","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","split","imulK","undefined","_strip","input","output","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","Object","create","value","enumerable","writable","configurable","safer","hasOwnProperty","Safer","from","Uint8Array","encodingOrOffset","TypeError","alloc","fill","encoding","RangeError","buf","kStringMaxLength","process","binding","constants","MAX_LENGTH","kMaxLength","MAX_STRING_LENGTH","Reporter","options","_reporterState","obj","path","errors","ReporterError","rethrow","isError","save","state","pathLen","restore","data","slice","enterKey","push","exitKey","leaveKey","enterObject","leaveObject","now","error","err","inherited","map","elem","JSON","stringify","message","stack","partial","wrapResult","result","captureStackTrace","require$$1","DecoderBuffer","isBuffer","offset","EncoderBuffer","reporter","item","isEncoderBuffer","isDecoderBuffer","isEmpty","readUInt8","skip","raw","fail","bytes","forEach","write","equal","tags","methods","concat","Node","enc","parent","_baseState","children","tag","args","reverseArgs","choice","optional","any","use","useDecoder","explicit","implicit","contains","_wrap","stateProps","cstate","prop","method","apply","arguments","body","filter","child","_useArgs","arg","keys","def","newKey","_decode","prevObj","present","prevKey","_peekTag","_decodeGeneric","_decodeChoice","_decodeTag","track","_getUse","_decodeList","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeBool","_decodeInt","entity","_use","match","some","node","type","_createEncoderBuffer","_encode","_encodeValue","_skipDefault","content","primitive","_encodeChoice","_encodePrimitive","cls","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool","_isNumstr","_isPrintstr","reverse","tagClass","DEREncoder","tree","DERNode","two","PEMEncoder","encode","encodedTag","der","tagByName","tagClassByName","encodeTag","header","lenOctets","unused","writeUInt16BE","id","values","relative","splice","ident","objid","time","date","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","numArray","sign","unshift","_getEncoder","dataBuffer","defaultBuffer","label","encoders","pem","DERDecoder","derDecodeTag","oct","tagStr","derDecodeLen","decode","decodedTag","_skipUntilEnd","decoder","possibleEnd","String","fromCharCode","readUInt16BE","numstr","printstr","identifiers","subident","first","second","year","mon","day","hour","sec","UTC","bignum","_getDecoder","PEMDecoder","lines","toUpperCase","decoders","Entity","define","_createNamed","Base","Generated","_initNamed","require$$2","_reverse","asn1","require$$3","require$$4","require$$5","copyProps","src","dst","SafeBuffer","allocUnsafe","allocUnsafeSlow","SlowBuffer","DataStream","readable","pipe","nextTick","emit","bind","util","Stream","bufferEq","install","that","origBufEqual","origSlowBufEqual","getParamSize","keySize","paramBytesForAlg","ES256","ES384","ES512","alg","paramBytes","signatureAsBuffer","signature","countPadding","stop","derToJose","getParamBytesForAlg","maxEncodedParamLength","inputLength","seqLength","TAG_INT","rLength","rOffset","sLength","sOffset","rPadding","sPadding","joseToDer","signatureBytes","rsBytes","shortLength","MAX_OCTET","MSG_INVALID_SECRET","MSG_INVALID_VERIFIER_KEY","supportsKeyObjects","crypto","createPublicKey","checkIsPublicKey","typeError","asymmetricKeyType","export","checkIsPrivateKey","fromBase64","toBase64","base64url","template","errMsg","format","normalizeInput","thing","createHmacSigner","secret","checkIsSecretKey","hmac","createHmac","update","digest","createHmacVerifier","computedSig","bufferEqual","createKeySigner","privateKey","signer","createSign","createKeyVerifier","publicKey","verifier","createVerify","verify","createPSSKeySigner","RSA_PKCS1_PSS_PADDING","saltLength","RSA_PSS_SALTLEN_DIGEST","createPSSKeyVerifier","createECDSASigner","inner","formatEcdsa","createECDSAVerifer","createNoneSigner","createNoneVerifier","algorithm","signerFactories","hs","rs","ps","es","none","verifierFactories","algo","toLowerCase","jwsSign","opts","payload","secretOrKey","jwa","securedInput","encodedHeader","encodedPayload","jwsSecuredInput","SignStream","secretStream","once","JWS_REGEX","safeJsonParse","isObject","parse","headerFromJWS","jwsSig","signatureFromJWS","isValidJws","jwsVerify","code","securedInputFromJWS","jwsDecode","payloadFromJWS","typ","json","VerifyStream","valid","isValid","WebPushConstants","AES_GCM","AES_128_GCM","ECPrivateKeyASN","seq","int","octstr","bitstr","toPEM","version","parameters","validateSubject","subject","indexOf","url","hostname","validatePublicKey","urlBase64","validate","validatePrivateKey","getFutureExpirationTimestamp","numSeconds","futureExp","setSeconds","getSeconds","floor","getTime","validateExpiration","expiration","Number","isInteger","keylog","generateVAPIDKeys","curve","createECDH","generateKeys","publicKeyBuffer","getPublicKey","privateKeyBuffer","getPrivateKey","getVapidHeaders","audience","contentEncoding","jwtPayload","aud","exp","jwt","jws","supportedContentEncodings","Authorization","PAD_SIZE","aes128gcm","aesgcm","aesgcm128","HMAC_hash","HKDF_extract","salt","ikm","HKDF_expand","prk","info","T","counter","cbuf","writeUIntBE","HKDF","context","lengthPrefix","extractSecretAndContext","dh","senderPubKey","receiverPubKey","computeSecret","keylabel","extractDH","keyid","keymap","authSecret","extractSecret","remotePubKey","webpushSecret","deriveKeyAndNonce","keyInfo","nonceInfo","params","nonce","parseParams","parseInt","isNaN","overhead","generateNonce","readUIntBE","decryptRecord","last","gcm","createDecipheriv","setAuthTag","final","padSize","pad","padCheck","compare","unpadLegacy","unpad","encryptRecord","createCipheriv","ciphertext","getAuthTag","env","ECE_KEYLOG","console","warn","decrypt","headerLength","idsz","readHeader","chunkSize","block","encrypt","randomBytes","ints","writeHeader","recordPad","userPublicKey","userAuth","localCurve","localPublicKey","cipherText","ece","WebPushError","statusCode","headers","endpoint","d","exec","parseFloat","isFinite","long","ms","msAbs","plural","fmtLong","fmtShort","isPlural","createDebug","namespace","prevTime","namespacesCache","enabledCache","enableOverride","debug","enabled","curr","coerce","formatter","formatters","formatArgs","log","useColors","color","selectColor","extend","destroy","defineProperty","get","namespaces","set","v","init","delimiter","newDebug","toNamespace","regexp","substring","default","disable","names","skips","enable","RegExp","substr","humanize","hash","colors","load","lastC","storage","setItem","removeItem","getItem","DEBUG","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","warned","fn","req","Promise","resolve","reject","rtn","__importDefault","__esModule","debug_1","promisify_1","isSecureEndpoint","createAgent","callback","Agent","events_1","EventEmitter","_opts","super","timeout","maxFreeSockets","maxSockets","maxTotalSockets","Infinity","sockets","freeSockets","requests","defaultPort","explicitDefaultPort","protocol","explicitProtocol","addRequest","assign","secureEndpoint","host","port","agent","_defaultAgent","createConnection","_last","shouldKeepAlive","timedOut","timeoutId","timeoutMs","onerror","_hadError","ontimeout","callbackError","clearTimeout","onsocket","socket","Boolean","freeSocket","onSocket","promisifiedCallback","setTimeout","then","catch","buffersLength","buffers","read","buffered","firstLine","ondata","onclose","onend","removeListener","on","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","net_1","tls_1","url_1","assert_1","parse_proxy_response_1","HttpsProxyAgent","agent_base_1","proxy","secureProxy","ALPNProtocols","pathname","connect","auth","secure","isDefaultPort","Host","Connection","proxyResponsePromise","resume","servername","includes","omit","fakeSocket","Socket","listenerCount","agent_1","createHttpsProxyAgent","vapidDetails","gcmAPIKey","WebPushLib","setGCMAPIKey","apiKey","setVapidDetails","vapidHelper","generateRequestDetails","subscription","p256dh","currentGCMAPIKey","currentVapidDetails","timeToLive","extraHeaders","webPushConstants","validOptionKeys","optionKeys","optionKey","duplicates","TTL","https","requestDetails","requestPayload","encrypted","encryptionHelper","Encryption","isGCM","isFCM","parsedUrl","vapidHeaders","sendNotification","httpsOptions","urlParts","pushRequest","request","pushResponse","responseText","chunk","webPush","async","webpush","PEOPLE","idFromName","upgradeHeader","HandleNotificationSubscription","HandleNotificationBroadcast","Response","status","fetch","handleRequest","People","sessions","people","positions","stats","structures","chat_messages","subscriptions","blockConcurrencyWhile","stored_structures","stored_stats","stored_positions","chat_messages_stored","subscriptions_stored","put","notification","title","webSocketPair","WebSocketPair","client","server","webSocket","accept","session","receivedUserInfo","addEventListener","quit","close","uid","random","built","destroyed","kills","deaths","position","broadcast","joined","send","stats_update","chat_message","update_position","build_structure","structure","player","player_uid","pos","add_structure","destroy_structure","build_bullet","bullet","move","add_bullet","player_hit","shooter","hit","kill","timestampe","respawn","unfreeze","timestamp","lastTimestamp","dataStr","closeOrErrorHandler","evt","member","others","quitters","quitter"],"mappings":"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"}